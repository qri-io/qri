/* snapshot: Profile Photo Test: GET */
HTTP/1.1 200 OK
Connection: close
Content-Type: image/jpeg

/* snapshot: Profile Photo Test: OPTIONS */
HTTP/1.1 200 OK
Connection: close

/* snapshot: Profile Photo Test: POST */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "color": "",
    "created": "0001-01-01T00:00:00Z",
    "description": "",
    "email": "",
    "homeurl": "",
    "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
    "name": "",
    "peername": "peer",
    "photo": "/mem/QmRdexT18WuAKVX3vPusqmJTWLeNSeJgjmMbaF5QLGHna1",
    "poster": "",
    "privkey": "CAASpgkwggSiAgEAAoIBAQC/7Q7fILQ8hc9g07a4HAiDKE4FahzL2eO8OlB1K99Ad4L1zc2dCg+gDVuGwdbOC29IngMA7O3UXijycckOSChgFyW3PafXoBF8Zg9MRBDIBo0lXRhW4TrVytm4Etzp4pQMyTeRYyWR8e2hGXeHArXM1R/A/SjzZUbjJYHhgvEE4OZy7WpcYcW6K3qqBGOU5GDMPuCcJWac2NgXzw6JeNsZuTimfVCJHupqG/dLPMnBOypR22dO7yJIaQ3d0PFLxiDG84X9YupF914RzJlopfdcuipI+6gFAgBw3vi6gbECEzcohjKf/4nqBOEvCDD6SXfl5F/MxoHurbGBYB2CJp+FAgMBAAECggEAaVOxe6Y5A5XzrxHBDtzjlwcBels3nm/fWScvjH4dMQXlavwcwPgKhy2NczDhr4X69oEw6Msd4hQiqJrlWd8juUg6vIsrl1wS/JAOCS65fuyJfV3Pw64rWbTPMwO3FOvxj+rFghZFQgjg/i45uHA2UUkM+h504M5Nzs6Arr/rgV7uPGR5e5OBw3lfiS9ZaA7QZiOq7sMy1L0qD49YO1ojqWu3b7UaMaBQx1Dty7b5IVOSYG+Y3U/dLjhTj4Hg1VtCHWRm3nMOE9cVpMJRhRzKhkq6gnZmni8obz2BBDF02X34oQLcHC/Wn8F3E8RiBjZDI66g+iZeCCUXvYz0vxWAQQKBgQDEJu6flyHPvyBPAC4EOxZAw0zh6SF/r8VgjbKO3n/8d+kZJeVmYnbsLodIEEyXQnr35o2CLqhCvR2kstsRSfRz79nMIt6aPWuwYkXNHQGE8rnCxxyJmxV4S63GczLk7SIn4KmqPlCI08AU0TXJS3zwh7O6e6kBljjPt1mnMgvr3QKBgQD6fAkdI0FRZSXwzygx4uSg47Co6X6ESZ9FDf6ph63lvSK5/eue/ugX6p/olMYq5CHXbLpgM4EJYdRfrH6pwqtBwUJhlh1xI6C48nonnw+oh8YPlFCDLxNG4tq6JVo071qH6CFXCIank3ThZeW5a3ZSe5pBZ8h4bUZ9H8pJL4C7yQKBgFb8SN/+/qCJSoOeOcnohhLMSSD56MAeK7KIxAF1jF5isr1TP+rqiYBtldKQX9bIRY3/8QslM7r88NNj+aAuIrjzSausXvkZedMrkXbHgS/7EAPflrkzTA8fyH10AsLgoj/68mKr5bz34nuY13hgAJUOKNbvFeC9RI5g6eIqYH0FAoGAVqFTXZp12rrK1nAvDKHWRLa6wJCQyxvTU8S1UNi2EgDJ492oAgNTLgJdb8kUiH0CH0lhZCgr9py5IKW94OSM6l72oF2UrS6PRafHC7D9b2IV5Al9lwFO/3MyBrMocapeeyaTcVBnkclz4Qim3OwHrhtFjF1ifhP9DwVRpuIg+dECgYANwlHxLe//tr6BM31PUUrOxP5Y/cj+ydxqM/z6papZFkK6Mvi/vMQQNQkh95GH9zqyC5Z/yLxur4ry1eNYty/9FnuZRAkEmlUSZ/DobhU0Pmj8Hep6JsTuMutref6vCk2n02jc9qYmJuD7iXkdXDSawbEG6f5C4MUkJ38z1t1OjA==",
    "thumb": "/mem/QmRdexT18WuAKVX3vPusqmJTWLeNSeJgjmMbaF5QLGHna1",
    "twitter": "",
    "type": "peer",
    "updated": "0001-01-01T00:00:00Z"
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: Profile Photo Test: POST bad file format */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "invalid file format. only .jpg images allowed"
  }
}

/* snapshot: Profile Poster Test: GET */
HTTP/1.1 200 OK
Connection: close
Content-Type: image/jpeg

/* snapshot: Profile Poster Test: OPTIONS */
HTTP/1.1 200 OK
Connection: close

/* snapshot: Profile Poster Test: POST */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "color": "",
    "created": "0001-01-01T00:00:00Z",
    "description": "",
    "email": "",
    "homeurl": "",
    "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
    "name": "",
    "peername": "peer",
    "photo": "",
    "poster": "/mem/QmdJgfxj4rocm88PLeEididS7V2cc9nQosA46RpvAnWvDL",
    "privkey": "CAASpgkwggSiAgEAAoIBAQC/7Q7fILQ8hc9g07a4HAiDKE4FahzL2eO8OlB1K99Ad4L1zc2dCg+gDVuGwdbOC29IngMA7O3UXijycckOSChgFyW3PafXoBF8Zg9MRBDIBo0lXRhW4TrVytm4Etzp4pQMyTeRYyWR8e2hGXeHArXM1R/A/SjzZUbjJYHhgvEE4OZy7WpcYcW6K3qqBGOU5GDMPuCcJWac2NgXzw6JeNsZuTimfVCJHupqG/dLPMnBOypR22dO7yJIaQ3d0PFLxiDG84X9YupF914RzJlopfdcuipI+6gFAgBw3vi6gbECEzcohjKf/4nqBOEvCDD6SXfl5F/MxoHurbGBYB2CJp+FAgMBAAECggEAaVOxe6Y5A5XzrxHBDtzjlwcBels3nm/fWScvjH4dMQXlavwcwPgKhy2NczDhr4X69oEw6Msd4hQiqJrlWd8juUg6vIsrl1wS/JAOCS65fuyJfV3Pw64rWbTPMwO3FOvxj+rFghZFQgjg/i45uHA2UUkM+h504M5Nzs6Arr/rgV7uPGR5e5OBw3lfiS9ZaA7QZiOq7sMy1L0qD49YO1ojqWu3b7UaMaBQx1Dty7b5IVOSYG+Y3U/dLjhTj4Hg1VtCHWRm3nMOE9cVpMJRhRzKhkq6gnZmni8obz2BBDF02X34oQLcHC/Wn8F3E8RiBjZDI66g+iZeCCUXvYz0vxWAQQKBgQDEJu6flyHPvyBPAC4EOxZAw0zh6SF/r8VgjbKO3n/8d+kZJeVmYnbsLodIEEyXQnr35o2CLqhCvR2kstsRSfRz79nMIt6aPWuwYkXNHQGE8rnCxxyJmxV4S63GczLk7SIn4KmqPlCI08AU0TXJS3zwh7O6e6kBljjPt1mnMgvr3QKBgQD6fAkdI0FRZSXwzygx4uSg47Co6X6ESZ9FDf6ph63lvSK5/eue/ugX6p/olMYq5CHXbLpgM4EJYdRfrH6pwqtBwUJhlh1xI6C48nonnw+oh8YPlFCDLxNG4tq6JVo071qH6CFXCIank3ThZeW5a3ZSe5pBZ8h4bUZ9H8pJL4C7yQKBgFb8SN/+/qCJSoOeOcnohhLMSSD56MAeK7KIxAF1jF5isr1TP+rqiYBtldKQX9bIRY3/8QslM7r88NNj+aAuIrjzSausXvkZedMrkXbHgS/7EAPflrkzTA8fyH10AsLgoj/68mKr5bz34nuY13hgAJUOKNbvFeC9RI5g6eIqYH0FAoGAVqFTXZp12rrK1nAvDKHWRLa6wJCQyxvTU8S1UNi2EgDJ492oAgNTLgJdb8kUiH0CH0lhZCgr9py5IKW94OSM6l72oF2UrS6PRafHC7D9b2IV5Al9lwFO/3MyBrMocapeeyaTcVBnkclz4Qim3OwHrhtFjF1ifhP9DwVRpuIg+dECgYANwlHxLe//tr6BM31PUUrOxP5Y/cj+ydxqM/z6papZFkK6Mvi/vMQQNQkh95GH9zqyC5Z/yLxur4ry1eNYty/9FnuZRAkEmlUSZ/DobhU0Pmj8Hep6JsTuMutref6vCk2n02jc9qYmJuD7iXkdXDSawbEG6f5C4MUkJ38z1t1OjA==",
    "thumb": "",
    "twitter": "",
    "type": "peer",
    "updated": "0001-01-01T00:00:00Z"
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: Profile Poster Test: POST bad file format */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "invalid file format. only .jpg images allowed"
  }
}

/* snapshot: TestDatasetHandlers body case 0: GET /body/peer/family_relationships */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "data": [
      [
        1001,
        1002
      ],
      [
        1010,
        1020
      ]
    ],
    "path": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF"
  },
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/body/peer/family_relationships?page=2",
    "page": 1,
    "pageSize": 50,
    "prevUrl": ""
  }
}

/* snapshot: TestDatasetHandlers body case 0: GET /get/peer/family_relationships/body */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "data": [
      [
        1001,
        1002
      ],
      [
        1010,
        1020
      ]
    ],
    "path": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF"
  },
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/get/peer/family_relationships/body?page=2",
    "page": 1,
    "pageSize": 50,
    "prevUrl": ""
  }
}

/* snapshot: TestDatasetHandlers body case 0: GET /get/peer/family_relationships?component=body */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "data": [
      [
        1001,
        1002
      ],
      [
        1010,
        1020
      ]
    ],
    "path": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF"
  },
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/get/peer/family_relationships?component=body\u0026page=2",
    "page": 1,
    "pageSize": 50,
    "prevUrl": ""
  }
}

/* snapshot: TestDatasetHandlers body case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestDatasetHandlers body case 1: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers body case 1: GET /body/me/family_relationships */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "data": [
      [
        1001,
        1002
      ],
      [
        1010,
        1020
      ]
    ],
    "path": "/map/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF"
  },
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/body/me/family_relationships?page=2",
    "page": 1,
    "pageSize": 50,
    "prevUrl": ""
  }
}

/* snapshot: TestDatasetHandlers body case 1: GET /body/peer/family_relationships */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "data": [
      [
        1001,
        1002
      ],
      [
        1010,
        1020
      ]
    ],
    "path": "/map/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF"
  },
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/body/peer/family_relationships?page=2",
    "page": 1,
    "pageSize": 50,
    "prevUrl": ""
  }
}

/* snapshot: TestDatasetHandlers body case 2: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers body case 2: GET /body/me/family_relationships?download=true */
HTTP/1.1 200 OK
Connection: close
Content-Disposition: attachment; filename=peer-family_relationships_-_2001-01-01-01-01-01.csv
Content-Type: 

parent_identifier,student_identifier
1001,1002
1010,1020

/* snapshot: TestDatasetHandlers body case 2: GET /body/peer/family_relationships?download=true */
HTTP/1.1 200 OK
Connection: close
Content-Disposition: attachment; filename=peer-family_relationships_-_2001-01-01-01-01-01.csv
Content-Type: 

parent_identifier,student_identifier
1001,1002
1010,1020

/* snapshot: TestDatasetHandlers body case 3: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers changes case 0: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers changes case 0: GET /?left_ref=peer/family_relationships&right_ref=peer/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "commit": {
      "about": {
        "status": "modified"
      },
      "left": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/mem/QmXhUSsvbzo1QuYxqeGPeyDq2s8qfd4WmWdHjiSxUNYWBj",
        "qri": "cm:0",
        "signature": "gfpd9EcxyynPz3YMEBox3N8dPknpqGBuxy6dyDFIEVxSrhVwRUciZxTwsFJeaBeKojNoRC6mjzZkQ/ybjffytEmCe73+4pNT4Dx5Gb6H673HMlgw46fwX4IkQFG75Z+ipjGi9SNJvB0nf4O/92r2zo6B0igv03aNO07nP9jajJQV2ZKSjWKiujN2e/7QmY0Y6QZ1wHiH+l4p1Kbqg96lPhBPYukeC9q1/7hvzRbBrMz2nOva4DpIyKQB/cf7kqz5WRhU/Em4+0Tg2gM+u/JYprImg2THxqEv91R+6JgqaUgGRR+M4hCX0/meGXqN9HLjLBDYl96DrIzxuXGtwcmjKQ==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "created dataset"
      },
      "right": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/mem/QmZr8NhNh86dL2zAAj5jimHJUojSZAVt48GXcTFrzLSqBv",
        "qri": "cm:0",
        "signature": "EKuBms9Tw8dt+zslGU7w7TPjaLs6sqF+hSWhZuSm5g6jU/CYc44gH3zLpOXNlSzwv5FLramoBHkcmlFCjmjbZgAIXOwcPeQ58mrlG5KFde0yIK883xMlr+7C7wPpf6RinMFs2Y3NBhOJcuObDW1bSPENRaCJ0bBrGTH42mxkQr5j2KpkHHr+PEhWOnN63r79eeI9YtDce7WMOUiUKoBvSIRkQ3M9l3RxmqQ0bQnyZUq1J+hsd171mnDbEaMU1Ii0ehl6An5EkiwWAho/1wlMcHe3fuKzoglVR7tQuY4BceQ7IX7yj5cAqdBLJToftchscTpo6fciiFxNpAml2PUF6A==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "initial commit"
      }
    },
    "meta": {
      "about": {
        "status": "add"
      },
      "left": {},
      "right": {
        "path": "/mem/QmWX9MV7ms5QXVGt26gXAbp5z8TdfamUgVBdzxSqhWhPzV",
        "qri": "md:0",
        "title": "example city data"
      }
    },
    "stats": {
      "columns": [
        {
          "about": {
            "status": "add"
          },
          "delta": {
            "count": 5,
            "max": 65.25,
            "mean": 52.04,
            "median": 50.65,
            "min": 44.4
          },
          "left": {},
          "right": {
            "count": 5,
            "histogram": {
              "bins": [
                44.4,
                50.65,
                55.5,
                65.25,
                66.25
              ],
              "frequencies": [
                2,
                1,
                1,
                1
              ]
            },
            "max": 65.25,
            "mean": 52.04,
            "median": 50.65,
            "min": 44.4,
            "type": "numeric"
          },
          "title": "avg_age"
        },
        {
          "about": {
            "status": "add"
          },
          "delta": {
            "count": 5,
            "falseCount": 1,
            "trueCount": 4
          },
          "left": {},
          "right": {
            "count": 5,
            "falseCount": 1,
            "trueCount": 4,
            "type": "boolean"
          },
          "title": "in_usa"
        },
        {
          "about": {
            "status": "removed"
          },
          "delta": {
            "count": -2,
            "max": -1010,
            "mean": -1005.5,
            "median": -1010,
            "min": -1001
          },
          "left": {
            "count": 2,
            "histogram": {
              "bins": [
                1001,
                1010,
                1011
              ],
              "frequencies": [
                1,
                1
              ]
            },
            "max": 1010,
            "mean": 1005.5,
            "median": 1010,
            "min": 1001,
            "type": "numeric"
          },
          "right": {},
          "title": "parent_identifier"
        },
        {
          "about": {
            "status": "add"
          },
          "delta": {
            "count": 5,
            "maxLength": 8,
            "minLength": 7,
            "unique": 5
          },
          "left": {},
          "right": {
            "count": 5,
            "frequencies": {
              "chatham": 1,
              "chicago": 1,
              "new york": 1,
              "raleigh": 1,
              "toronto": 1
            },
            "maxLength": 8,
            "minLength": 7,
            "type": "string",
            "unique": 5
          },
          "title": "city"
        },
        {
          "about": {
            "status": "removed"
          },
          "delta": {
            "count": -2,
            "max": -1020,
            "mean": -1011,
            "median": -1020,
            "min": -1002
          },
          "left": {
            "count": 2,
            "histogram": {
              "bins": [
                1002,
                1020,
                1021
              ],
              "frequencies": [
                1,
                1
              ]
            },
            "max": 1020,
            "mean": 1011,
            "median": 1020,
            "min": 1002,
            "type": "numeric"
          },
          "right": {},
          "title": "student_identifier"
        },
        {
          "about": {
            "status": "add"
          },
          "delta": {
            "count": 5,
            "max": 40000000,
            "mean": 9817000,
            "median": 300000,
            "min": 35000
          },
          "left": {},
          "right": {
            "count": 5,
            "histogram": {
              "bins": [
                35000,
                250000,
                300000,
                8500000,
                40000000,
                40000001
              ],
              "frequencies": [
                1,
                1,
                1,
                1,
                1
              ]
            },
            "max": 40000000,
            "mean": 9817000,
            "median": 300000,
            "min": 35000,
            "type": "numeric"
          },
          "title": "pop"
        }
      ],
      "summary": {
        "delta": {
          "columns": 2,
          "entries": 3,
          "totalSize": 98
        },
        "left": {
          "columns": 2,
          "entries": 2,
          "totalSize": 57
        },
        "right": {
          "columns": 4,
          "entries": 5,
          "totalSize": 155
        }
      }
    },
    "structure": {
      "about": {
        "status": "modified"
      },
      "left": {
        "checksum": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
        "depth": 2,
        "entries": 2,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 57,
        "path": "/mem/QmZfQ5ozRyLx2ET3dH9bBfgw8YJtFfeWhg23dXyQ4wC4W8",
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "parent_identifier",
                "type": "integer"
              },
              {
                "title": "student_identifier",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      },
      "right": {
        "checksum": "/mem/QmcCcPTqmckdXLBwPQXxfyW2BbFcUT6gqv9oGeWDkrNTyD",
        "depth": 2,
        "entries": 5,
        "format": "csv",
        "formatConfig": {
          "headerRow": true
        },
        "length": 155,
        "path": "/mem/QmUCD7N2uDGwVYmwbBBHxKsnxCzKFEwSAkfjjw4u2nwycN",
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "city",
                "type": "string"
              },
              {
                "title": "pop",
                "type": "integer"
              },
              {
                "title": "avg_age",
                "type": "number"
              },
              {
                "title": "in_usa",
                "type": "boolean"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "version_info": {
      "about": {
        "status": "modified"
      },
      "left": {
        "bodyFormat": "csv",
        "bodyRows": 2,
        "bodySize": 57,
        "commitMessage": "created dataset",
        "commitTime": "2001-01-01T01:01:01.000000001Z",
        "commitTitle": "created dataset",
        "name": "family_relationships",
        "path": "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg",
        "username": "peer"
      },
      "right": {
        "bodyFormat": "csv",
        "bodyRows": 5,
        "bodySize": 155,
        "commitMessage": "created dataset",
        "commitTime": "2001-01-01T01:01:01.000000001Z",
        "commitTitle": "initial commit",
        "metaTitle": "example city data",
        "name": "cities",
        "path": "/mem/QmWMa5BokbgXoq4AEv7HQXDPkNzqbb8EA9x2WrpWhafvns",
        "username": "peer"
      }
    }
  },
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/?left_ref=peer%2Ffamily_relationships\u0026page=1\u0026pageSize=0\u0026right_ref=peer%2Fcities",
    "prevUrl": ""
  }
}

/* snapshot: TestDatasetHandlers changes case 1: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers diff case 0: GET /?leftPath=peer/family_relationships&rightPath=peer/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "diff": [
      [
        "-",
        "bodyPath",
        "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF"
      ],
      [
        "+",
        "bodyPath",
        "/mem/QmcCcPTqmckdXLBwPQXxfyW2BbFcUT6gqv9oGeWDkrNTyD"
      ],
      [
        " ",
        "commit",
        null,
        [
          [
            " ",
            "author",
            {
              "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
            }
          ],
          [
            " ",
            "message",
            "created dataset"
          ],
          [
            "-",
            "path",
            "/mem/QmXhUSsvbzo1QuYxqeGPeyDq2s8qfd4WmWdHjiSxUNYWBj"
          ],
          [
            "+",
            "path",
            "/mem/QmZr8NhNh86dL2zAAj5jimHJUojSZAVt48GXcTFrzLSqBv"
          ],
          [
            " ",
            "qri",
            "cm:0"
          ],
          [
            "-",
            "signature",
            "gfpd9EcxyynPz3YMEBox3N8dPknpqGBuxy6dyDFIEVxSrhVwRUciZxTwsFJeaBeKojNoRC6mjzZkQ/ybjffytEmCe73+4pNT4Dx5Gb6H673HMlgw46fwX4IkQFG75Z+ipjGi9SNJvB0nf4O/92r2zo6B0igv03aNO07nP9jajJQV2ZKSjWKiujN2e/7QmY0Y6QZ1wHiH+l4p1Kbqg96lPhBPYukeC9q1/7hvzRbBrMz2nOva4DpIyKQB/cf7kqz5WRhU/Em4+0Tg2gM+u/JYprImg2THxqEv91R+6JgqaUgGRR+M4hCX0/meGXqN9HLjLBDYl96DrIzxuXGtwcmjKQ=="
          ],
          [
            "+",
            "signature",
            "EKuBms9Tw8dt+zslGU7w7TPjaLs6sqF+hSWhZuSm5g6jU/CYc44gH3zLpOXNlSzwv5FLramoBHkcmlFCjmjbZgAIXOwcPeQ58mrlG5KFde0yIK883xMlr+7C7wPpf6RinMFs2Y3NBhOJcuObDW1bSPENRaCJ0bBrGTH42mxkQr5j2KpkHHr+PEhWOnN63r79eeI9YtDce7WMOUiUKoBvSIRkQ3M9l3RxmqQ0bQnyZUq1J+hsd171mnDbEaMU1Ii0ehl6An5EkiwWAho/1wlMcHe3fuKzoglVR7tQuY4BceQ7IX7yj5cAqdBLJToftchscTpo6fciiFxNpAml2PUF6A=="
          ],
          [
            " ",
            "timestamp",
            "2001-01-01T01:01:01.000000001Z"
          ],
          [
            "-",
            "title",
            "created dataset"
          ],
          [
            "+",
            "title",
            "initial commit"
          ]
        ]
      ],
      [
        "+",
        "meta",
        {
          "path": "/mem/QmWX9MV7ms5QXVGt26gXAbp5z8TdfamUgVBdzxSqhWhPzV",
          "qri": "md:0",
          "title": "example city data"
        }
      ],
      [
        "-",
        "path",
        "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg"
      ],
      [
        "+",
        "path",
        "/mem/QmWMa5BokbgXoq4AEv7HQXDPkNzqbb8EA9x2WrpWhafvns"
      ],
      [
        " ",
        "qri",
        "ds:0"
      ],
      [
        " ",
        "stats",
        null,
        [
          [
            "-",
            2,
            {
              "count": 2,
              "histogram": {
                "bins": [
                  1002,
                  1020,
                  1021
                ],
                "frequencies": [
                  1,
                  1
                ]
              },
              "max": 1020,
              "mean": 1011,
              "median": 1020,
              "min": 1002,
              "type": "numeric"
            }
          ],
          [
            "-",
            "path",
            "/mem/QmdELUADXHkoF3ZMHp4GErdAtGpPgdBFq19mB5rfh1upjZ"
          ],
          [
            "+",
            "path",
            "/mem/QmZjVHiq1brwXQRKMDcc2TuE8UHhQCyTa3WMWnrYXJRUUG"
          ],
          [
            " ",
            "qri",
            "sa:0"
          ],
          [
            " ",
            "stats",
            null,
            [
              [
                "+",
                0,
                {
                  "count": 5,
                  "frequencies": {
                    "chatham": 1,
                    "chicago": 1,
                    "new york": 1,
                    "raleigh": 1,
                    "toronto": 1
                  },
                  "maxLength": 8,
                  "minLength": 7,
                  "type": "string",
                  "unique": 5
                }
              ],
              [
                "+",
                1,
                {
                  "count": 5,
                  "histogram": {
                    "bins": [
                      35000,
                      250000,
                      300000,
                      8500000,
                      40000000,
                      40000001
                    ],
                    "frequencies": [
                      1,
                      1,
                      1,
                      1,
                      1
                    ]
                  },
                  "max": 40000000,
                  "mean": 9817000,
                  "median": 300000,
                  "min": 35000,
                  "type": "numeric"
                }
              ],
              [
                "+",
                2,
                {
                  "count": 5,
                  "histogram": {
                    "bins": [
                      44.4,
                      50.65,
                      55.5,
                      65.25,
                      66.25
                    ],
                    "frequencies": [
                      2,
                      1,
                      1,
                      1
                    ]
                  },
                  "max": 65.25,
                  "mean": 52.04,
                  "median": 50.65,
                  "min": 44.4,
                  "type": "numeric"
                }
              ],
              [
                "+",
                3,
                {
                  "count": 5,
                  "falseCount": 1,
                  "trueCount": 4,
                  "type": "boolean"
                }
              ]
            ]
          ]
        ]
      ],
      [
        " ",
        "structure",
        null,
        [
          [
            "-",
            "checksum",
            "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF"
          ],
          [
            "+",
            "checksum",
            "/mem/QmcCcPTqmckdXLBwPQXxfyW2BbFcUT6gqv9oGeWDkrNTyD"
          ],
          [
            " ",
            "depth",
            2
          ],
          [
            "-",
            "entries",
            2
          ],
          [
            "+",
            "entries",
            5
          ],
          [
            " ",
            "format",
            "csv"
          ],
          [
            " ",
            "formatConfig",
            {
              "headerRow": true
            }
          ],
          [
            "-",
            "length",
            57
          ],
          [
            "+",
            "length",
            155
          ],
          [
            "-",
            "path",
            "/mem/QmZfQ5ozRyLx2ET3dH9bBfgw8YJtFfeWhg23dXyQ4wC4W8"
          ],
          [
            "+",
            "path",
            "/mem/QmUCD7N2uDGwVYmwbBBHxKsnxCzKFEwSAkfjjw4u2nwycN"
          ],
          [
            " ",
            "qri",
            "st:0"
          ],
          [
            " ",
            "schema",
            null,
            [
              [
                " ",
                "items",
                null,
                [
                  [
                    " ",
                    "items",
                    null,
                    [
                      [
                        "+",
                        0,
                        {
                          "title": "city",
                          "type": "string"
                        }
                      ],
                      [
                        " ",
                        1,
                        null,
                        [
                          [
                            "-",
                            "title",
                            "student_identifier"
                          ],
                          [
                            "+",
                            "title",
                            "pop"
                          ],
                          [
                            " ",
                            "type",
                            "integer"
                          ]
                        ]
                      ],
                      [
                        "+",
                        2,
                        {
                          "title": "avg_age",
                          "type": "number"
                        }
                      ],
                      [
                        "+",
                        3,
                        {
                          "title": "in_usa",
                          "type": "boolean"
                        }
                      ]
                    ]
                  ],
                  [
                    " ",
                    "type",
                    "array"
                  ]
                ]
              ],
              [
                " ",
                "type",
                "array"
              ]
            ]
          ]
        ]
      ]
    ],
    "stat": {
      "deletes": 12,
      "inserts": 19,
      "leftNodes": 69,
      "leftWeight": 3225,
      "rightNodes": 105,
      "rightWeight": 3924
    }
  },
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/?leftPath=peer%2Ffamily_relationships\u0026page=1\u0026pageSize=0\u0026rightPath=peer%2Fcities",
    "prevUrl": ""
  }
}

/* snapshot: TestDatasetHandlers diff case 0: GET /?left_path=peer/family_relationships&right_path=peer/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "diff": [
      [
        "-",
        "bodyPath",
        "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF"
      ],
      [
        "+",
        "bodyPath",
        "/mem/QmcCcPTqmckdXLBwPQXxfyW2BbFcUT6gqv9oGeWDkrNTyD"
      ],
      [
        " ",
        "commit",
        null,
        [
          [
            " ",
            "author",
            {
              "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
            }
          ],
          [
            " ",
            "message",
            "created dataset"
          ],
          [
            "-",
            "path",
            "/mem/QmXhUSsvbzo1QuYxqeGPeyDq2s8qfd4WmWdHjiSxUNYWBj"
          ],
          [
            "+",
            "path",
            "/mem/QmZr8NhNh86dL2zAAj5jimHJUojSZAVt48GXcTFrzLSqBv"
          ],
          [
            " ",
            "qri",
            "cm:0"
          ],
          [
            "-",
            "signature",
            "gfpd9EcxyynPz3YMEBox3N8dPknpqGBuxy6dyDFIEVxSrhVwRUciZxTwsFJeaBeKojNoRC6mjzZkQ/ybjffytEmCe73+4pNT4Dx5Gb6H673HMlgw46fwX4IkQFG75Z+ipjGi9SNJvB0nf4O/92r2zo6B0igv03aNO07nP9jajJQV2ZKSjWKiujN2e/7QmY0Y6QZ1wHiH+l4p1Kbqg96lPhBPYukeC9q1/7hvzRbBrMz2nOva4DpIyKQB/cf7kqz5WRhU/Em4+0Tg2gM+u/JYprImg2THxqEv91R+6JgqaUgGRR+M4hCX0/meGXqN9HLjLBDYl96DrIzxuXGtwcmjKQ=="
          ],
          [
            "+",
            "signature",
            "EKuBms9Tw8dt+zslGU7w7TPjaLs6sqF+hSWhZuSm5g6jU/CYc44gH3zLpOXNlSzwv5FLramoBHkcmlFCjmjbZgAIXOwcPeQ58mrlG5KFde0yIK883xMlr+7C7wPpf6RinMFs2Y3NBhOJcuObDW1bSPENRaCJ0bBrGTH42mxkQr5j2KpkHHr+PEhWOnN63r79eeI9YtDce7WMOUiUKoBvSIRkQ3M9l3RxmqQ0bQnyZUq1J+hsd171mnDbEaMU1Ii0ehl6An5EkiwWAho/1wlMcHe3fuKzoglVR7tQuY4BceQ7IX7yj5cAqdBLJToftchscTpo6fciiFxNpAml2PUF6A=="
          ],
          [
            " ",
            "timestamp",
            "2001-01-01T01:01:01.000000001Z"
          ],
          [
            "-",
            "title",
            "created dataset"
          ],
          [
            "+",
            "title",
            "initial commit"
          ]
        ]
      ],
      [
        "+",
        "meta",
        {
          "path": "/mem/QmWX9MV7ms5QXVGt26gXAbp5z8TdfamUgVBdzxSqhWhPzV",
          "qri": "md:0",
          "title": "example city data"
        }
      ],
      [
        "-",
        "path",
        "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg"
      ],
      [
        "+",
        "path",
        "/mem/QmWMa5BokbgXoq4AEv7HQXDPkNzqbb8EA9x2WrpWhafvns"
      ],
      [
        " ",
        "qri",
        "ds:0"
      ],
      [
        " ",
        "stats",
        null,
        [
          [
            "-",
            2,
            {
              "count": 2,
              "histogram": {
                "bins": [
                  1002,
                  1020,
                  1021
                ],
                "frequencies": [
                  1,
                  1
                ]
              },
              "max": 1020,
              "mean": 1011,
              "median": 1020,
              "min": 1002,
              "type": "numeric"
            }
          ],
          [
            "-",
            "path",
            "/mem/QmdELUADXHkoF3ZMHp4GErdAtGpPgdBFq19mB5rfh1upjZ"
          ],
          [
            "+",
            "path",
            "/mem/QmZjVHiq1brwXQRKMDcc2TuE8UHhQCyTa3WMWnrYXJRUUG"
          ],
          [
            " ",
            "qri",
            "sa:0"
          ],
          [
            " ",
            "stats",
            null,
            [
              [
                "+",
                0,
                {
                  "count": 5,
                  "frequencies": {
                    "chatham": 1,
                    "chicago": 1,
                    "new york": 1,
                    "raleigh": 1,
                    "toronto": 1
                  },
                  "maxLength": 8,
                  "minLength": 7,
                  "type": "string",
                  "unique": 5
                }
              ],
              [
                "+",
                1,
                {
                  "count": 5,
                  "histogram": {
                    "bins": [
                      35000,
                      250000,
                      300000,
                      8500000,
                      40000000,
                      40000001
                    ],
                    "frequencies": [
                      1,
                      1,
                      1,
                      1,
                      1
                    ]
                  },
                  "max": 40000000,
                  "mean": 9817000,
                  "median": 300000,
                  "min": 35000,
                  "type": "numeric"
                }
              ],
              [
                "+",
                2,
                {
                  "count": 5,
                  "histogram": {
                    "bins": [
                      44.4,
                      50.65,
                      55.5,
                      65.25,
                      66.25
                    ],
                    "frequencies": [
                      2,
                      1,
                      1,
                      1
                    ]
                  },
                  "max": 65.25,
                  "mean": 52.04,
                  "median": 50.65,
                  "min": 44.4,
                  "type": "numeric"
                }
              ],
              [
                "+",
                3,
                {
                  "count": 5,
                  "falseCount": 1,
                  "trueCount": 4,
                  "type": "boolean"
                }
              ]
            ]
          ]
        ]
      ],
      [
        " ",
        "structure",
        null,
        [
          [
            "-",
            "checksum",
            "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF"
          ],
          [
            "+",
            "checksum",
            "/mem/QmcCcPTqmckdXLBwPQXxfyW2BbFcUT6gqv9oGeWDkrNTyD"
          ],
          [
            " ",
            "depth",
            2
          ],
          [
            "-",
            "entries",
            2
          ],
          [
            "+",
            "entries",
            5
          ],
          [
            " ",
            "format",
            "csv"
          ],
          [
            " ",
            "formatConfig",
            {
              "headerRow": true
            }
          ],
          [
            "-",
            "length",
            57
          ],
          [
            "+",
            "length",
            155
          ],
          [
            "-",
            "path",
            "/mem/QmZfQ5ozRyLx2ET3dH9bBfgw8YJtFfeWhg23dXyQ4wC4W8"
          ],
          [
            "+",
            "path",
            "/mem/QmUCD7N2uDGwVYmwbBBHxKsnxCzKFEwSAkfjjw4u2nwycN"
          ],
          [
            " ",
            "qri",
            "st:0"
          ],
          [
            " ",
            "schema",
            null,
            [
              [
                " ",
                "items",
                null,
                [
                  [
                    " ",
                    "items",
                    null,
                    [
                      [
                        "+",
                        0,
                        {
                          "title": "city",
                          "type": "string"
                        }
                      ],
                      [
                        " ",
                        1,
                        null,
                        [
                          [
                            "-",
                            "title",
                            "student_identifier"
                          ],
                          [
                            "+",
                            "title",
                            "pop"
                          ],
                          [
                            " ",
                            "type",
                            "integer"
                          ]
                        ]
                      ],
                      [
                        "+",
                        2,
                        {
                          "title": "avg_age",
                          "type": "number"
                        }
                      ],
                      [
                        "+",
                        3,
                        {
                          "title": "in_usa",
                          "type": "boolean"
                        }
                      ]
                    ]
                  ],
                  [
                    " ",
                    "type",
                    "array"
                  ]
                ]
              ],
              [
                " ",
                "type",
                "array"
              ]
            ]
          ]
        ]
      ]
    ],
    "stat": {
      "deletes": 12,
      "inserts": 19,
      "leftNodes": 69,
      "leftWeight": 3225,
      "rightNodes": 105,
      "rightWeight": 3924
    }
  },
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/?left_path=peer%2Ffamily_relationships\u0026page=1\u0026pageSize=0\u0026right_path=peer%2Fcities",
    "prevUrl": ""
  }
}

/* snapshot: TestDatasetHandlers diff case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestDatasetHandlers diff case 1: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers diff case 1: GET / */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "error diffing datasets: error loading dataset: error getting file bytes: cafs: path not found"
  }
}{"data":null,"meta":{"code":200}}

/* snapshot: TestDatasetHandlers diff case 1: GET /?left_path=me/family_relationships&right_path=me/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "diff": [
      [
        "-",
        "bodyPath",
        "/map/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF"
      ],
      [
        "+",
        "bodyPath",
        "/map/QmcCcPTqmckdXLBwPQXxfyW2BbFcUT6gqv9oGeWDkrNTyD"
      ],
      [
        " ",
        "commit",
        null,
        [
          [
            " ",
            "author",
            {
              "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
            }
          ],
          [
            " ",
            "message",
            "created dataset"
          ],
          [
            "-",
            "path",
            "/map/QmVLFAV6JKQ9j749V6MwjTHQdsVrWswXTokqQLWZGYF81k"
          ],
          [
            "+",
            "path",
            "/map/QmTAyk3uWbGDgWWVtMiKppAtivP2NVjZZytMWq9EKwBX1J"
          ],
          [
            " ",
            "qri",
            "cm:0"
          ],
          [
            "-",
            "signature",
            "gkP4OX+p12rpV39BdsFVPL/EtYEPezR9GH8m1fgCuO6ENpf/59FzKuhtnbxfXYvPVaFQIvXx5XnJ7vkKHQS6Sr4pSc4SVsno/HGzqQWksejHNfTlb2qNknq23ecjgIqU1jsdPJgKDQvO69ZZXZs9YnYsbKnwDPemOIG92iG09MCslWswnCW/ozvMZt65V3JwhuKYNVJ7NVwAPBsU4mVUm8zrghoHdjnv8fAXlCiwBt6X+jKQHFsH5EXmLxhTV3RoYu6+ZpqYb7Pl5LPifMrG5wilPyPmo9sVPkRlqUdvhEV0f76DjI1EVB2IRRy/RnxybQE6vWKRiPeyxlIIaHf8RA=="
          ],
          [
            "+",
            "signature",
            "RZU/18bxxacveMoNvGxINIS9MxvNwtc4OiSCRjCGnospztHNhJfJP0PflrzKG1tqLGi+c4w94BJRmLR/I5YaVqqwm86vGkYhwDRuBEViuT4GlKCzVEFUk63fJsT9YmcUWlabqEnUW2l0O6p+RatfmumlKOleONMYy1woa5PbIzRGoITo4u9piYiV6RVRJ9bURjEU7cr8iVXcwO+YEw6qMCUBKUAok+yttjt+iYm0JLD9hPoQO14Vu4jWMFxByoLvVIEquEqnlgyuQGvelFfuApUI5goTftOcASANuTsnrOe6gq0HJxNN27kAYQujS3swspi7qVrL9X8v341YKu77fQ=="
          ],
          [
            " ",
            "timestamp",
            "2001-01-01T01:01:01.000000001Z"
          ],
          [
            "-",
            "title",
            "created dataset"
          ],
          [
            "+",
            "title",
            "initial commit"
          ]
        ]
      ],
      [
        "+",
        "meta",
        {
          "qri": "md:0",
          "title": "example city data"
        }
      ],
      [
        "-",
        "path",
        "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7"
      ],
      [
        "+",
        "path",
        "/map/QmfRUKSPd2hR8w7RLkLb7ihhsAmcFCMuwnXHtKp5fMfgwv"
      ],
      [
        " ",
        "qri",
        "ds:0"
      ],
      [
        " ",
        "structure",
        null,
        [
          [
            "-",
            "checksum",
            "Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF"
          ],
          [
            "+",
            "checksum",
            "QmcCcPTqmckdXLBwPQXxfyW2BbFcUT6gqv9oGeWDkrNTyD"
          ],
          [
            " ",
            "depth",
            2
          ],
          [
            "-",
            "entries",
            2
          ],
          [
            "+",
            "entries",
            5
          ],
          [
            " ",
            "format",
            "csv"
          ],
          [
            " ",
            "formatConfig",
            {
              "headerRow": true
            }
          ],
          [
            "-",
            "length",
            57
          ],
          [
            "+",
            "length",
            155
          ],
          [
            " ",
            "qri",
            "st:0"
          ],
          [
            " ",
            "schema",
            null,
            [
              [
                " ",
                "items",
                null,
                [
                  [
                    " ",
                    "items",
                    null,
                    [
                      [
                        "+",
                        0,
                        {
                          "title": "city",
                          "type": "string"
                        }
                      ],
                      [
                        " ",
                        1,
                        null,
                        [
                          [
                            "-",
                            "title",
                            "student_identifier"
                          ],
                          [
                            "+",
                            "title",
                            "pop"
                          ],
                          [
                            " ",
                            "type",
                            "integer"
                          ]
                        ]
                      ],
                      [
                        "+",
                        2,
                        {
                          "title": "avg_age",
                          "type": "number"
                        }
                      ],
                      [
                        "+",
                        3,
                        {
                          "title": "in_usa",
                          "type": "boolean"
                        }
                      ]
                    ]
                  ],
                  [
                    " ",
                    "type",
                    "array"
                  ]
                ]
              ],
              [
                " ",
                "type",
                "array"
              ]
            ]
          ]
        ]
      ]
    ],
    "stat": {
      "deletes": 9,
      "inserts": 13,
      "leftNodes": 34,
      "leftWeight": 2399,
      "rightNodes": 42,
      "rightWeight": 2439
    }
  },
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/?left_path=me%2Ffamily_relationships\u0026page=1\u0026pageSize=0\u0026right_path=me%2Fcities",
    "prevUrl": ""
  }
}

/* snapshot: TestDatasetHandlers diff case 1: GET /?left_path=peer/family_relationships&right_path=peer/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "diff": [
      [
        "-",
        "bodyPath",
        "/map/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF"
      ],
      [
        "+",
        "bodyPath",
        "/map/QmcCcPTqmckdXLBwPQXxfyW2BbFcUT6gqv9oGeWDkrNTyD"
      ],
      [
        " ",
        "commit",
        null,
        [
          [
            " ",
            "author",
            {
              "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
            }
          ],
          [
            " ",
            "message",
            "created dataset"
          ],
          [
            "-",
            "path",
            "/map/QmVLFAV6JKQ9j749V6MwjTHQdsVrWswXTokqQLWZGYF81k"
          ],
          [
            "+",
            "path",
            "/map/QmTAyk3uWbGDgWWVtMiKppAtivP2NVjZZytMWq9EKwBX1J"
          ],
          [
            " ",
            "qri",
            "cm:0"
          ],
          [
            "-",
            "signature",
            "gkP4OX+p12rpV39BdsFVPL/EtYEPezR9GH8m1fgCuO6ENpf/59FzKuhtnbxfXYvPVaFQIvXx5XnJ7vkKHQS6Sr4pSc4SVsno/HGzqQWksejHNfTlb2qNknq23ecjgIqU1jsdPJgKDQvO69ZZXZs9YnYsbKnwDPemOIG92iG09MCslWswnCW/ozvMZt65V3JwhuKYNVJ7NVwAPBsU4mVUm8zrghoHdjnv8fAXlCiwBt6X+jKQHFsH5EXmLxhTV3RoYu6+ZpqYb7Pl5LPifMrG5wilPyPmo9sVPkRlqUdvhEV0f76DjI1EVB2IRRy/RnxybQE6vWKRiPeyxlIIaHf8RA=="
          ],
          [
            "+",
            "signature",
            "RZU/18bxxacveMoNvGxINIS9MxvNwtc4OiSCRjCGnospztHNhJfJP0PflrzKG1tqLGi+c4w94BJRmLR/I5YaVqqwm86vGkYhwDRuBEViuT4GlKCzVEFUk63fJsT9YmcUWlabqEnUW2l0O6p+RatfmumlKOleONMYy1woa5PbIzRGoITo4u9piYiV6RVRJ9bURjEU7cr8iVXcwO+YEw6qMCUBKUAok+yttjt+iYm0JLD9hPoQO14Vu4jWMFxByoLvVIEquEqnlgyuQGvelFfuApUI5goTftOcASANuTsnrOe6gq0HJxNN27kAYQujS3swspi7qVrL9X8v341YKu77fQ=="
          ],
          [
            " ",
            "timestamp",
            "2001-01-01T01:01:01.000000001Z"
          ],
          [
            "-",
            "title",
            "created dataset"
          ],
          [
            "+",
            "title",
            "initial commit"
          ]
        ]
      ],
      [
        "+",
        "meta",
        {
          "qri": "md:0",
          "title": "example city data"
        }
      ],
      [
        "-",
        "path",
        "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7"
      ],
      [
        "+",
        "path",
        "/map/QmfRUKSPd2hR8w7RLkLb7ihhsAmcFCMuwnXHtKp5fMfgwv"
      ],
      [
        " ",
        "qri",
        "ds:0"
      ],
      [
        " ",
        "structure",
        null,
        [
          [
            "-",
            "checksum",
            "Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF"
          ],
          [
            "+",
            "checksum",
            "QmcCcPTqmckdXLBwPQXxfyW2BbFcUT6gqv9oGeWDkrNTyD"
          ],
          [
            " ",
            "depth",
            2
          ],
          [
            "-",
            "entries",
            2
          ],
          [
            "+",
            "entries",
            5
          ],
          [
            " ",
            "format",
            "csv"
          ],
          [
            " ",
            "formatConfig",
            {
              "headerRow": true
            }
          ],
          [
            "-",
            "length",
            57
          ],
          [
            "+",
            "length",
            155
          ],
          [
            " ",
            "qri",
            "st:0"
          ],
          [
            " ",
            "schema",
            null,
            [
              [
                " ",
                "items",
                null,
                [
                  [
                    " ",
                    "items",
                    null,
                    [
                      [
                        "+",
                        0,
                        {
                          "title": "city",
                          "type": "string"
                        }
                      ],
                      [
                        " ",
                        1,
                        null,
                        [
                          [
                            "-",
                            "title",
                            "student_identifier"
                          ],
                          [
                            "+",
                            "title",
                            "pop"
                          ],
                          [
                            " ",
                            "type",
                            "integer"
                          ]
                        ]
                      ],
                      [
                        "+",
                        2,
                        {
                          "title": "avg_age",
                          "type": "number"
                        }
                      ],
                      [
                        "+",
                        3,
                        {
                          "title": "in_usa",
                          "type": "boolean"
                        }
                      ]
                    ]
                  ],
                  [
                    " ",
                    "type",
                    "array"
                  ]
                ]
              ],
              [
                " ",
                "type",
                "array"
              ]
            ]
          ]
        ]
      ]
    ],
    "stat": {
      "deletes": 9,
      "inserts": 13,
      "leftNodes": 34,
      "leftWeight": 2399,
      "rightNodes": 42,
      "rightWeight": 2439
    }
  },
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/?left_path=peer%2Ffamily_relationships\u0026page=1\u0026pageSize=0\u0026right_path=peer%2Fcities",
    "prevUrl": ""
  }
}

/* snapshot: TestDatasetHandlers diff case 2: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers diff case 2: GET / */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "error diffing datasets: error loading dataset: error getting file bytes: cafs: path not found"
  }
}{"data":"","meta":{"code":200}}

/* snapshot: TestDatasetHandlers diff case 3: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers export case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestDatasetHandlers export case 1: GET /export/me/cities */
HTTP/1.1 200 OK
Connection: close
Content-Disposition: attachment; filename=peer-cities_-_2001-01-01-01-01-01.zip
Content-Type: application/zip

PK                      commit.json,K@
{b2t!w-6J<ALl*TW+{q<+I?y(s,Iboq?Fa
/PB
`PM8PgUU*E7uv\+9J%p".H;hc9=M%6m^	^V4/Ki8zEZ>c{;\O@kmxgJ0.0+Wc3\Xn]NbO;/_'F@$T(AGCY8z7
Ur?)1J`>G(EL~]Z,',S$aA[6.Z23]dnYZQSn&l1\IOA;(oyZ_A%\J0F  PK,V  q  PK                   	   meta.jsonRP*,TRPM2PRP*,IV$*$gT*$$*q  PKj
5   1   PK                      structure.jsonj0EaYHZ&J	2-d&Y0P$
hdk-b(y}t~x;Y=o%N2#U!G#Y'4Q,|faIIdp 0'~$b 2$#,j/I/
5[LCA5*t1]E)#1gS&$;[Fi/V}=X[7W6i=.~'3  PK<+    PK                      body.csvdA
0}N<hFz4	c/%?;~6C<.vj{NBq1I1]-HRRH=3/   PK;q      PK                      qri-ref.txt*HM-O,L-vM,M
H1(7I2(vMvs--(.0MMK//  PK[LE   ?   PK        ,V  q                   commit.jsonPK        j
5   1   	             .  meta.jsonPK        <+                   structure.jsonPK        ;q                     body.csvPK        [LE   ?                  qri-ref.txtPK            

/* snapshot: TestDatasetHandlers export case 2: GET /export/me/cities/at/map/QmPRjfgUFrH1GxBqujJ3sEvwV3gzHdux1j4g8SLyjbhwot */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "reading dataset 'peer/cities@/map/QmPRjfgUFrH1GxBqujJ3sEvwV3gzHdux1j4g8SLyjbhwot': error loading dataset: error getting file bytes: cafs: path not found"
  }
}

/* snapshot: TestDatasetHandlers export case 3: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers get case 0: GET /get/peer/family_relationships */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/mem/QmXhUSsvbzo1QuYxqeGPeyDq2s8qfd4WmWdHjiSxUNYWBj",
        "qri": "cm:0",
        "signature": "gfpd9EcxyynPz3YMEBox3N8dPknpqGBuxy6dyDFIEVxSrhVwRUciZxTwsFJeaBeKojNoRC6mjzZkQ/ybjffytEmCe73+4pNT4Dx5Gb6H673HMlgw46fwX4IkQFG75Z+ipjGi9SNJvB0nf4O/92r2zo6B0igv03aNO07nP9jajJQV2ZKSjWKiujN2e/7QmY0Y6QZ1wHiH+l4p1Kbqg96lPhBPYukeC9q1/7hvzRbBrMz2nOva4DpIyKQB/cf7kqz5WRhU/Em4+0Tg2gM+u/JYprImg2THxqEv91R+6JgqaUgGRR+M4hCX0/meGXqN9HLjLBDYl96DrIzxuXGtwcmjKQ==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "created dataset"
      },
      "name": "family_relationships",
      "path": "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg",
      "peername": "peer",
      "qri": "ds:0",
      "stats": {
        "path": "/mem/QmdELUADXHkoF3ZMHp4GErdAtGpPgdBFq19mB5rfh1upjZ",
        "qri": "sa:0",
        "stats": [
          {
            "count": 2,
            "histogram": {
              "bins": [
                1001,
                1010,
                1011
              ],
              "frequencies": [
                1,
                1
              ]
            },
            "max": 1010,
            "mean": 1005.5,
            "median": 1010,
            "min": 1001,
            "type": "numeric"
          },
          {
            "count": 2,
            "histogram": {
              "bins": [
                1002,
                1020,
                1021
              ],
              "frequencies": [
                1,
                1
              ]
            },
            "max": 1020,
            "mean": 1011,
            "median": 1020,
            "min": 1002,
            "type": "numeric"
          }
        ]
      },
      "structure": {
        "checksum": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
        "depth": 2,
        "entries": 2,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 57,
        "path": "/mem/QmZfQ5ozRyLx2ET3dH9bBfgw8YJtFfeWhg23dXyQ4wC4W8",
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "parent_identifier",
                "type": "integer"
              },
              {
                "title": "student_identifier",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "family_relationships",
    "path": "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg",
    "peername": "peer",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers get case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestDatasetHandlers get case 1: GET /get/me/family_relationships */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "/map/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/map/QmVLFAV6JKQ9j749V6MwjTHQdsVrWswXTokqQLWZGYF81k",
        "qri": "cm:0",
        "signature": "gkP4OX+p12rpV39BdsFVPL/EtYEPezR9GH8m1fgCuO6ENpf/59FzKuhtnbxfXYvPVaFQIvXx5XnJ7vkKHQS6Sr4pSc4SVsno/HGzqQWksejHNfTlb2qNknq23ecjgIqU1jsdPJgKDQvO69ZZXZs9YnYsbKnwDPemOIG92iG09MCslWswnCW/ozvMZt65V3JwhuKYNVJ7NVwAPBsU4mVUm8zrghoHdjnv8fAXlCiwBt6X+jKQHFsH5EXmLxhTV3RoYu6+ZpqYb7Pl5LPifMrG5wilPyPmo9sVPkRlqUdvhEV0f76DjI1EVB2IRRy/RnxybQE6vWKRiPeyxlIIaHf8RA==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "created dataset"
      },
      "name": "family_relationships",
      "path": "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7",
      "peername": "peer",
      "qri": "ds:0",
      "structure": {
        "checksum": "Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
        "depth": 2,
        "entries": 2,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 57,
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "parent_identifier",
                "type": "integer"
              },
              {
                "title": "student_identifier",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "family_relationships",
    "path": "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7",
    "peername": "peer",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers get case 1: GET /get/peer/family_relationships */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "/map/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/map/QmVLFAV6JKQ9j749V6MwjTHQdsVrWswXTokqQLWZGYF81k",
        "qri": "cm:0",
        "signature": "gkP4OX+p12rpV39BdsFVPL/EtYEPezR9GH8m1fgCuO6ENpf/59FzKuhtnbxfXYvPVaFQIvXx5XnJ7vkKHQS6Sr4pSc4SVsno/HGzqQWksejHNfTlb2qNknq23ecjgIqU1jsdPJgKDQvO69ZZXZs9YnYsbKnwDPemOIG92iG09MCslWswnCW/ozvMZt65V3JwhuKYNVJ7NVwAPBsU4mVUm8zrghoHdjnv8fAXlCiwBt6X+jKQHFsH5EXmLxhTV3RoYu6+ZpqYb7Pl5LPifMrG5wilPyPmo9sVPkRlqUdvhEV0f76DjI1EVB2IRRy/RnxybQE6vWKRiPeyxlIIaHf8RA==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "created dataset"
      },
      "name": "family_relationships",
      "path": "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7",
      "peername": "peer",
      "qri": "ds:0",
      "structure": {
        "checksum": "Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
        "depth": 2,
        "entries": 2,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 57,
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "parent_identifier",
                "type": "integer"
              },
              {
                "title": "student_identifier",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "family_relationships",
    "path": "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7",
    "peername": "peer",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers get case 1: GET /get/peer/family_relationships/at/map/Qme7LVBp6hfi4Y5N29CXeXjpAqgT3fWtAmQWtZgjpQAZph */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "invalid network"
  }
}

/* snapshot: TestDatasetHandlers get case 1: GET /get/peer/family_relationships/at/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/mem/QmXhUSsvbzo1QuYxqeGPeyDq2s8qfd4WmWdHjiSxUNYWBj",
        "qri": "cm:0",
        "signature": "gfpd9EcxyynPz3YMEBox3N8dPknpqGBuxy6dyDFIEVxSrhVwRUciZxTwsFJeaBeKojNoRC6mjzZkQ/ybjffytEmCe73+4pNT4Dx5Gb6H673HMlgw46fwX4IkQFG75Z+ipjGi9SNJvB0nf4O/92r2zo6B0igv03aNO07nP9jajJQV2ZKSjWKiujN2e/7QmY0Y6QZ1wHiH+l4p1Kbqg96lPhBPYukeC9q1/7hvzRbBrMz2nOva4DpIyKQB/cf7kqz5WRhU/Em4+0Tg2gM+u/JYprImg2THxqEv91R+6JgqaUgGRR+M4hCX0/meGXqN9HLjLBDYl96DrIzxuXGtwcmjKQ==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "created dataset"
      },
      "name": "family_relationships",
      "path": "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg",
      "peername": "peer",
      "qri": "ds:0",
      "stats": {
        "path": "/mem/QmdELUADXHkoF3ZMHp4GErdAtGpPgdBFq19mB5rfh1upjZ",
        "qri": "sa:0",
        "stats": [
          {
            "count": 2,
            "histogram": {
              "bins": [
                1001,
                1010,
                1011
              ],
              "frequencies": [
                1,
                1
              ]
            },
            "max": 1010,
            "mean": 1005.5,
            "median": 1010,
            "min": 1001,
            "type": "numeric"
          },
          {
            "count": 2,
            "histogram": {
              "bins": [
                1002,
                1020,
                1021
              ],
              "frequencies": [
                1,
                1
              ]
            },
            "max": 1020,
            "mean": 1011,
            "median": 1020,
            "min": 1002,
            "type": "numeric"
          }
        ]
      },
      "structure": {
        "checksum": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
        "depth": 2,
        "entries": 2,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 57,
        "path": "/mem/QmZfQ5ozRyLx2ET3dH9bBfgw8YJtFfeWhg23dXyQ4wC4W8",
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "parent_identifier",
                "type": "integer"
              },
              {
                "title": "student_identifier",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "family_relationships",
    "path": "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg",
    "peername": "peer",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers get case 1: GET /me/family_relationships */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "/map/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/map/QmVLFAV6JKQ9j749V6MwjTHQdsVrWswXTokqQLWZGYF81k",
        "qri": "cm:0",
        "signature": "gkP4OX+p12rpV39BdsFVPL/EtYEPezR9GH8m1fgCuO6ENpf/59FzKuhtnbxfXYvPVaFQIvXx5XnJ7vkKHQS6Sr4pSc4SVsno/HGzqQWksejHNfTlb2qNknq23ecjgIqU1jsdPJgKDQvO69ZZXZs9YnYsbKnwDPemOIG92iG09MCslWswnCW/ozvMZt65V3JwhuKYNVJ7NVwAPBsU4mVUm8zrghoHdjnv8fAXlCiwBt6X+jKQHFsH5EXmLxhTV3RoYu6+ZpqYb7Pl5LPifMrG5wilPyPmo9sVPkRlqUdvhEV0f76DjI1EVB2IRRy/RnxybQE6vWKRiPeyxlIIaHf8RA==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "created dataset"
      },
      "name": "family_relationships",
      "path": "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7",
      "peername": "peer",
      "qri": "ds:0",
      "structure": {
        "checksum": "Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
        "depth": 2,
        "entries": 2,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 57,
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "parent_identifier",
                "type": "integer"
              },
              {
                "title": "student_identifier",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "family_relationships",
    "path": "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7",
    "peername": "peer",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers get case 2: GET /get/at/map/Qme7LVBp6hfi4Y5N29CXeXjpAqgT3fWtAmQWtZgjpQAZph */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "unexpected character at position 6: '/'"
  }
}

/* snapshot: TestDatasetHandlers get case 2: GET /get/me/family_relationships/at/map/Qme7LVBp6hfi4Y5N29CXeXjpAqgT3fWtAmQWtZgjpQAZph */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "error loading dataset: error getting file bytes: cafs: path not found"
  }
}

/* snapshot: TestDatasetHandlers get case 2: GET /get/peer/family_relationships/at/map/Qme7LVBp6hfi4Y5N29CXeXjpAqgT3fWtAmQWtZgjpQAZph */
HTTP/1.1 404 Not Found
Connection: close

{
  "meta": {
    "code": 404,
    "error": "error loading dataset: error getting file bytes: cafs: path not found"
  }
}

/* snapshot: TestDatasetHandlers get case 2: GET /get/peer/family_relationships?fsi=true */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/mem/QmXhUSsvbzo1QuYxqeGPeyDq2s8qfd4WmWdHjiSxUNYWBj",
        "qri": "cm:0",
        "signature": "gfpd9EcxyynPz3YMEBox3N8dPknpqGBuxy6dyDFIEVxSrhVwRUciZxTwsFJeaBeKojNoRC6mjzZkQ/ybjffytEmCe73+4pNT4Dx5Gb6H673HMlgw46fwX4IkQFG75Z+ipjGi9SNJvB0nf4O/92r2zo6B0igv03aNO07nP9jajJQV2ZKSjWKiujN2e/7QmY0Y6QZ1wHiH+l4p1Kbqg96lPhBPYukeC9q1/7hvzRbBrMz2nOva4DpIyKQB/cf7kqz5WRhU/Em4+0Tg2gM+u/JYprImg2THxqEv91R+6JgqaUgGRR+M4hCX0/meGXqN9HLjLBDYl96DrIzxuXGtwcmjKQ==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "created dataset"
      },
      "name": "family_relationships",
      "path": "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg",
      "peername": "peer",
      "qri": "ds:0",
      "stats": {
        "path": "/mem/QmdELUADXHkoF3ZMHp4GErdAtGpPgdBFq19mB5rfh1upjZ",
        "qri": "sa:0",
        "stats": [
          {
            "count": 2,
            "histogram": {
              "bins": [
                1001,
                1010,
                1011
              ],
              "frequencies": [
                1,
                1
              ]
            },
            "max": 1010,
            "mean": 1005.5,
            "median": 1010,
            "min": 1001,
            "type": "numeric"
          },
          {
            "count": 2,
            "histogram": {
              "bins": [
                1002,
                1020,
                1021
              ],
              "frequencies": [
                1,
                1
              ]
            },
            "max": 1020,
            "mean": 1011,
            "median": 1020,
            "min": 1002,
            "type": "numeric"
          }
        ]
      },
      "structure": {
        "checksum": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
        "depth": 2,
        "entries": 2,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 57,
        "path": "/mem/QmZfQ5ozRyLx2ET3dH9bBfgw8YJtFfeWhg23dXyQ4wC4W8",
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "parent_identifier",
                "type": "integer"
              },
              {
                "title": "student_identifier",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "family_relationships",
    "path": "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg",
    "peername": "peer",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers get case 2: GET /me/family_relationships/at/map/QmPRjfgUFrH1GxBqujJ3sEvwV3gzHdux1j4g8SLyjbhwot */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "loading dataset: error loading dataset: error getting file bytes: cafs: path not found"
  }
}

/* snapshot: TestDatasetHandlers get case 2: GET /me/family_relationships/at/map/Qme7LVBp6hfi4Y5N29CXeXjpAqgT3fWtAmQWtZgjpQAZph */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "error loading dataset: error getting file bytes: cafs: path not found"
  }
}

/* snapshot: TestDatasetHandlers get case 3: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers get case 3: GET /at/map/QmPRjfgUFrH1GxBqujJ3sEvwV3gzHdux1j4g8SLyjbhwot */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "repo: not found"
  }
}

/* snapshot: TestDatasetHandlers get case 3: GET /at/map/Qme7LVBp6hfi4Y5N29CXeXjpAqgT3fWtAmQWtZgjpQAZph */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "reference not found"
  }
}

/* snapshot: TestDatasetHandlers get case 3: GET /get/at/map/Qme7LVBp6hfi4Y5N29CXeXjpAqgT3fWtAmQWtZgjpQAZph */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "unexpected character at position 6: '/'"
  }
}

/* snapshot: TestDatasetHandlers get case 3: GET /get/peer/family_relationships?fsi=true */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/mem/QmXhUSsvbzo1QuYxqeGPeyDq2s8qfd4WmWdHjiSxUNYWBj",
        "qri": "cm:0",
        "signature": "gfpd9EcxyynPz3YMEBox3N8dPknpqGBuxy6dyDFIEVxSrhVwRUciZxTwsFJeaBeKojNoRC6mjzZkQ/ybjffytEmCe73+4pNT4Dx5Gb6H673HMlgw46fwX4IkQFG75Z+ipjGi9SNJvB0nf4O/92r2zo6B0igv03aNO07nP9jajJQV2ZKSjWKiujN2e/7QmY0Y6QZ1wHiH+l4p1Kbqg96lPhBPYukeC9q1/7hvzRbBrMz2nOva4DpIyKQB/cf7kqz5WRhU/Em4+0Tg2gM+u/JYprImg2THxqEv91R+6JgqaUgGRR+M4hCX0/meGXqN9HLjLBDYl96DrIzxuXGtwcmjKQ==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "created dataset"
      },
      "name": "family_relationships",
      "path": "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg",
      "peername": "peer",
      "qri": "ds:0",
      "stats": {
        "path": "/mem/QmdELUADXHkoF3ZMHp4GErdAtGpPgdBFq19mB5rfh1upjZ",
        "qri": "sa:0",
        "stats": [
          {
            "count": 2,
            "histogram": {
              "bins": [
                1001,
                1010,
                1011
              ],
              "frequencies": [
                1,
                1
              ]
            },
            "max": 1010,
            "mean": 1005.5,
            "median": 1010,
            "min": 1001,
            "type": "numeric"
          },
          {
            "count": 2,
            "histogram": {
              "bins": [
                1002,
                1020,
                1021
              ],
              "frequencies": [
                1,
                1
              ]
            },
            "max": 1020,
            "mean": 1011,
            "median": 1020,
            "min": 1002,
            "type": "numeric"
          }
        ]
      },
      "structure": {
        "checksum": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
        "depth": 2,
        "entries": 2,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 57,
        "path": "/mem/QmZfQ5ozRyLx2ET3dH9bBfgw8YJtFfeWhg23dXyQ4wC4W8",
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "parent_identifier",
                "type": "integer"
              },
              {
                "title": "student_identifier",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "family_relationships",
    "path": "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg",
    "peername": "peer",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers get case 4: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers get case 4: GET /get/me/family_relationships?fsi=true */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "/map/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/map/QmVLFAV6JKQ9j749V6MwjTHQdsVrWswXTokqQLWZGYF81k",
        "qri": "cm:0",
        "signature": "gkP4OX+p12rpV39BdsFVPL/EtYEPezR9GH8m1fgCuO6ENpf/59FzKuhtnbxfXYvPVaFQIvXx5XnJ7vkKHQS6Sr4pSc4SVsno/HGzqQWksejHNfTlb2qNknq23ecjgIqU1jsdPJgKDQvO69ZZXZs9YnYsbKnwDPemOIG92iG09MCslWswnCW/ozvMZt65V3JwhuKYNVJ7NVwAPBsU4mVUm8zrghoHdjnv8fAXlCiwBt6X+jKQHFsH5EXmLxhTV3RoYu6+ZpqYb7Pl5LPifMrG5wilPyPmo9sVPkRlqUdvhEV0f76DjI1EVB2IRRy/RnxybQE6vWKRiPeyxlIIaHf8RA==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "created dataset"
      },
      "name": "family_relationships",
      "path": "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7",
      "peername": "peer",
      "qri": "ds:0",
      "structure": {
        "checksum": "Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
        "depth": 2,
        "entries": 2,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 57,
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "parent_identifier",
                "type": "integer"
              },
              {
                "title": "student_identifier",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "family_relationships",
    "path": "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7",
    "peername": "peer",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers get case 4: GET /get/peer/family_relationships?fsi=true */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "/map/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/map/QmVLFAV6JKQ9j749V6MwjTHQdsVrWswXTokqQLWZGYF81k",
        "qri": "cm:0",
        "signature": "gkP4OX+p12rpV39BdsFVPL/EtYEPezR9GH8m1fgCuO6ENpf/59FzKuhtnbxfXYvPVaFQIvXx5XnJ7vkKHQS6Sr4pSc4SVsno/HGzqQWksejHNfTlb2qNknq23ecjgIqU1jsdPJgKDQvO69ZZXZs9YnYsbKnwDPemOIG92iG09MCslWswnCW/ozvMZt65V3JwhuKYNVJ7NVwAPBsU4mVUm8zrghoHdjnv8fAXlCiwBt6X+jKQHFsH5EXmLxhTV3RoYu6+ZpqYb7Pl5LPifMrG5wilPyPmo9sVPkRlqUdvhEV0f76DjI1EVB2IRRy/RnxybQE6vWKRiPeyxlIIaHf8RA==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "created dataset"
      },
      "name": "family_relationships",
      "path": "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7",
      "peername": "peer",
      "qri": "ds:0",
      "structure": {
        "checksum": "Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
        "depth": 2,
        "entries": 2,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 57,
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "parent_identifier",
                "type": "integer"
              },
              {
                "title": "student_identifier",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "family_relationships",
    "path": "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7",
    "peername": "peer",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers get case 4: GET /me/family_relationships?fsi=true */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "/map/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/map/QmVLFAV6JKQ9j749V6MwjTHQdsVrWswXTokqQLWZGYF81k",
        "qri": "cm:0",
        "signature": "gkP4OX+p12rpV39BdsFVPL/EtYEPezR9GH8m1fgCuO6ENpf/59FzKuhtnbxfXYvPVaFQIvXx5XnJ7vkKHQS6Sr4pSc4SVsno/HGzqQWksejHNfTlb2qNknq23ecjgIqU1jsdPJgKDQvO69ZZXZs9YnYsbKnwDPemOIG92iG09MCslWswnCW/ozvMZt65V3JwhuKYNVJ7NVwAPBsU4mVUm8zrghoHdjnv8fAXlCiwBt6X+jKQHFsH5EXmLxhTV3RoYu6+ZpqYb7Pl5LPifMrG5wilPyPmo9sVPkRlqUdvhEV0f76DjI1EVB2IRRy/RnxybQE6vWKRiPeyxlIIaHf8RA==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "created dataset"
      },
      "name": "family_relationships",
      "path": "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7",
      "peername": "peer",
      "qri": "ds:0",
      "structure": {
        "checksum": "Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
        "depth": 2,
        "entries": 2,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 57,
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "parent_identifier",
                "type": "integer"
              },
              {
                "title": "student_identifier",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "family_relationships",
    "path": "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7",
    "peername": "peer",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers get case 5: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers init case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestDatasetHandlers init case 0: POST / */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/mem/QmXhUSsvbzo1QuYxqeGPeyDq2s8qfd4WmWdHjiSxUNYWBj",
        "qri": "cm:0",
        "signature": "gfpd9EcxyynPz3YMEBox3N8dPknpqGBuxy6dyDFIEVxSrhVwRUciZxTwsFJeaBeKojNoRC6mjzZkQ/ybjffytEmCe73+4pNT4Dx5Gb6H673HMlgw46fwX4IkQFG75Z+ipjGi9SNJvB0nf4O/92r2zo6B0igv03aNO07nP9jajJQV2ZKSjWKiujN2e/7QmY0Y6QZ1wHiH+l4p1Kbqg96lPhBPYukeC9q1/7hvzRbBrMz2nOva4DpIyKQB/cf7kqz5WRhU/Em4+0Tg2gM+u/JYprImg2THxqEv91R+6JgqaUgGRR+M4hCX0/meGXqN9HLjLBDYl96DrIzxuXGtwcmjKQ==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "created dataset"
      },
      "name": "family_relationships",
      "path": "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg",
      "peername": "peer",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "qri": "ds:0",
      "stats": {
        "path": "/mem/QmdELUADXHkoF3ZMHp4GErdAtGpPgdBFq19mB5rfh1upjZ",
        "qri": "sa:0",
        "stats": [
          {
            "count": 2,
            "histogram": {
              "bins": [
                1001,
                1010,
                1011
              ],
              "frequencies": [
                1,
                1
              ]
            },
            "max": 1010,
            "mean": 1005.5,
            "median": 1010,
            "min": 1001,
            "type": "numeric"
          },
          {
            "count": 2,
            "histogram": {
              "bins": [
                1002,
                1020,
                1021
              ],
              "frequencies": [
                1,
                1
              ]
            },
            "max": 1020,
            "mean": 1011,
            "median": 1020,
            "min": 1002,
            "type": "numeric"
          }
        ]
      },
      "structure": {
        "checksum": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
        "depth": 2,
        "entries": 2,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 57,
        "path": "/mem/QmZfQ5ozRyLx2ET3dH9bBfgw8YJtFfeWhg23dXyQ4wC4W8",
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "parent_identifier",
                "type": "integer"
              },
              {
                "title": "student_identifier",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "family_relationships",
    "path": "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg",
    "peername": "peer",
    "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers init case 0: POST /?new=true */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/mem/QmXhUSsvbzo1QuYxqeGPeyDq2s8qfd4WmWdHjiSxUNYWBj",
        "qri": "cm:0",
        "signature": "gfpd9EcxyynPz3YMEBox3N8dPknpqGBuxy6dyDFIEVxSrhVwRUciZxTwsFJeaBeKojNoRC6mjzZkQ/ybjffytEmCe73+4pNT4Dx5Gb6H673HMlgw46fwX4IkQFG75Z+ipjGi9SNJvB0nf4O/92r2zo6B0igv03aNO07nP9jajJQV2ZKSjWKiujN2e/7QmY0Y6QZ1wHiH+l4p1Kbqg96lPhBPYukeC9q1/7hvzRbBrMz2nOva4DpIyKQB/cf7kqz5WRhU/Em4+0Tg2gM+u/JYprImg2THxqEv91R+6JgqaUgGRR+M4hCX0/meGXqN9HLjLBDYl96DrIzxuXGtwcmjKQ==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "created dataset"
      },
      "name": "family_relationships",
      "path": "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg",
      "peername": "peer",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "qri": "ds:0",
      "stats": {
        "path": "/mem/QmdELUADXHkoF3ZMHp4GErdAtGpPgdBFq19mB5rfh1upjZ",
        "qri": "sa:0",
        "stats": [
          {
            "count": 2,
            "histogram": {
              "bins": [
                1001,
                1010,
                1011
              ],
              "frequencies": [
                1,
                1
              ]
            },
            "max": 1010,
            "mean": 1005.5,
            "median": 1010,
            "min": 1001,
            "type": "numeric"
          },
          {
            "count": 2,
            "histogram": {
              "bins": [
                1002,
                1020,
                1021
              ],
              "frequencies": [
                1,
                1
              ]
            },
            "max": 1020,
            "mean": 1011,
            "median": 1020,
            "min": 1002,
            "type": "numeric"
          }
        ]
      },
      "structure": {
        "checksum": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
        "depth": 2,
        "entries": 2,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 57,
        "path": "/mem/QmZfQ5ozRyLx2ET3dH9bBfgw8YJtFfeWhg23dXyQ4wC4W8",
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "parent_identifier",
                "type": "integer"
              },
              {
                "title": "student_identifier",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "family_relationships",
    "path": "/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg",
    "peername": "peer",
    "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers init case 1: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers init case 1: POST / */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/map/QmVLFAV6JKQ9j749V6MwjTHQdsVrWswXTokqQLWZGYF81k",
        "qri": "cm:0",
        "signature": "gkP4OX+p12rpV39BdsFVPL/EtYEPezR9GH8m1fgCuO6ENpf/59FzKuhtnbxfXYvPVaFQIvXx5XnJ7vkKHQS6Sr4pSc4SVsno/HGzqQWksejHNfTlb2qNknq23ecjgIqU1jsdPJgKDQvO69ZZXZs9YnYsbKnwDPemOIG92iG09MCslWswnCW/ozvMZt65V3JwhuKYNVJ7NVwAPBsU4mVUm8zrghoHdjnv8fAXlCiwBt6X+jKQHFsH5EXmLxhTV3RoYu6+ZpqYb7Pl5LPifMrG5wilPyPmo9sVPkRlqUdvhEV0f76DjI1EVB2IRRy/RnxybQE6vWKRiPeyxlIIaHf8RA==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "created dataset"
      },
      "name": "family_relationships",
      "path": "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7",
      "peername": "peer",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "qri": "ds:0",
      "structure": {
        "checksum": "Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF",
        "depth": 2,
        "entries": 2,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 57,
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "parent_identifier",
                "type": "integer"
              },
              {
                "title": "student_identifier",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "family_relationships",
    "path": "/map/Qmbhcod9KaNMSFA5ZnN24Vjr2ytXC5pzWEzKYfB18BWiN7",
    "peername": "peer",
    "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
    "published": false
  },
  "meta": {
    "code": 200,
    "message": ""
  }
}

/* snapshot: TestDatasetHandlers init case 2: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers list case 0: GET / */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [
    {
      "bodyFormat": "csv",
      "bodyRows": 5,
      "bodySize": 155,
      "commitTime": "2001-01-01T01:01:01.000000001Z",
      "metaTitle": "example city data",
      "name": "cities",
      "path": "/mem/QmWMa5BokbgXoq4AEv7HQXDPkNzqbb8EA9x2WrpWhafvns",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "username": "peer"
    },
    {
      "bodyFormat": "csv",
      "bodyRows": 20,
      "bodySize": 56,
      "commitTime": "2001-01-01T01:01:01.000000001Z",
      "metaTitle": "it's a counter",
      "name": "counter",
      "path": "/mem/QmZ6YJEyYZMwNVsei5tjvvz8KEx5ru7QpT9NKLAHWJLKEt",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "username": "peer"
    },
    {
      "bodyFormat": "json",
      "bodyRows": 5,
      "bodySize": 18308,
      "commitTime": "2001-01-01T01:01:01.000000001Z",
      "name": "craigslist",
      "path": "/mem/QmcNrAVWyo7N1idPMxyiEw4pLGwem3tMes9XspVo3Lnf4b",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "username": "peer"
    },
    {
      "bodyFormat": "csv",
      "bodyRows": 2335,
      "bodySize": 49753,
      "commitTime": "2001-01-01T01:01:01.000000001Z",
      "metaTitle": "example movie data",
      "name": "movies",
      "numErrors": 4,
      "path": "/mem/QmQPS7Nf6dG8zosyAA8zYd64gaLBTAzYsVhMkaMCgCXJST",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "username": "peer"
    },
    {
      "bodyFormat": "json",
      "bodyRows": 11,
      "bodySize": 12556,
      "commitTime": "2001-01-01T01:01:01.000000001Z",
      "metaTitle": "epa.gov sitemap entry sample",
      "name": "sitemap",
      "path": "/mem/QmfW651kmdLQpyEK9o4TJ8hxoTjnVSLpak6kDsrmB3zuRH",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "username": "peer"
    }
  ],
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/?page=2\u0026pageSize=100",
    "page": 1,
    "pageSize": 100,
    "prevUrl": ""
  }
}

/* snapshot: TestDatasetHandlers list case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestDatasetHandlers list case 1: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers list case 1: GET / */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [
    {
      "bodyFormat": "csv",
      "bodyRows": 5,
      "bodySize": 155,
      "commitTime": "2001-01-01T01:01:01.000000001Z",
      "metaTitle": "example city data",
      "name": "cities",
      "path": "/map/QmfRUKSPd2hR8w7RLkLb7ihhsAmcFCMuwnXHtKp5fMfgwv",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "username": "peer"
    },
    {
      "bodyFormat": "csv",
      "bodyRows": 20,
      "bodySize": 56,
      "commitTime": "2001-01-01T01:01:01.000000001Z",
      "metaTitle": "it's a counter",
      "name": "counter",
      "path": "/map/QmUzG57C67Xuu3WpLrSCHhhQ4D7EH59ibw7aSvAR21DkTF",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "username": "peer"
    },
    {
      "bodyFormat": "json",
      "bodyRows": 5,
      "bodySize": 18308,
      "commitTime": "2001-01-01T01:01:01.000000001Z",
      "name": "craigslist",
      "path": "/map/QmeowcrMcb5JbrLyGxLHnVLM2GoJEP6dqsTgVnaomXuooV",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "username": "peer"
    },
    {
      "bodyFormat": "csv",
      "bodyRows": 2335,
      "bodySize": 49753,
      "commitTime": "2001-01-01T01:01:01.000000001Z",
      "metaTitle": "example movie data",
      "name": "movies",
      "numErrors": 4,
      "path": "/map/QmVnSLjFfZ8QRyTvAMfqjWoTZS1zo4JthKjBaFjnneirAc",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "username": "peer"
    },
    {
      "bodyFormat": "json",
      "bodyRows": 11,
      "bodySize": 12556,
      "commitTime": "2001-01-01T01:01:01.000000001Z",
      "metaTitle": "epa.gov sitemap entry sample",
      "name": "sitemap",
      "path": "/map/Qmb87przrQFEsYMZbE1jk4RJEa9yeKVUkhsWrbM2MWAB2B",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "username": "peer"
    }
  ],
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/?page=2\u0026pageSize=100",
    "page": 1,
    "pageSize": 100,
    "prevUrl": ""
  }
}

/* snapshot: TestDatasetHandlers list case 2: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers new mime/multipart case 0: POST /new */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "option to make dataset private not yet implimented, refer to https://github.com/qri-io/qri/issues/291 for updates"
  }
}

/* snapshot: TestDatasetHandlers new mime/multipart case 1: POST /new */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "bodyPath": "/map/QmVYgdpvgnq3FABZFVWUgxr7UCwNSRJz97vBU9YX5g5pQ4",
    "commit": {
      "author": {
        "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
      },
      "message": "testing this out to see if it works!",
      "path": "/map/QmbDHhatqxqxDsghHb1KmoFZ5JkUao3oTePmwQW7YkzJqS",
      "qri": "cm:0",
      "signature": "TzHbqw7oRcqoGYhTraiJ9fSGzUUoHA653jNYGsBgbkUbBUkTh/ymTHZSfhwIKQlAqfwiOqB2rbmA4hu2MAYVxNRLfPlUYAr38juyTosI6cljYdzLfNk2L788iFSQcYnJ9CgiHYQlhmpUjh3irFY1nDIuaiPL1vDxH5yGsuI3qiD9DVvu2P6f6GSGMkQzpSv3jDWQbqo5LyyU7gaJBIaJW6Q9vKSB/mRRjDfHtOP2pMH/pf17q35+HaGHd+XEg/6a6X3IWwjsRros029lH6SDCbUaPXB6H3Cy5gRLoZp7K3mU026JucogrVHqRsZmVCx+vaVJ/MCpQhfYg6F8m8z2fA==",
      "timestamp": "2001-01-01T01:01:01.000000001Z",
      "title": "initial commit for testing init endpoint"
    },
    "path": "/map/QmVU86zb7A6NvipimEJ7mQFu1jy2nk96o6f3uwHe92D8US",
    "qri": "ds:0",
    "structure": {
      "checksum": "QmVYgdpvgnq3FABZFVWUgxr7UCwNSRJz97vBU9YX5g5pQ4",
      "entries": 5,
      "errCount": 0,
      "format": "csv",
      "formatConfig": {
        "headerRow": true
      },
      "length": 154,
      "path": "/map/QmaCMEbqnBhnFZmf5ftAtf1ZVvtsMjCWgeJeuFbJKfa5jZ",
      "qri": "st:0",
      "schema": {
        "items": {
          "items": [
            {
              "title": "city",
              "type": "string"
            },
            {
              "title": "pop",
              "type": "integer"
            },
            {
              "title": "avg_age",
              "type": "number"
            },
            {
              "title": "in_usa",
              "type": "boolean"
            }
          ],
          "type": "array"
        },
        "type": "array"
      }
    }
  },
  "meta": {
    "code": 200,
    "message": ""
  }
}

/* snapshot: TestDatasetHandlers new mime/multipart case 2: POST /new */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "bodyPath": "/map/QmVYgdpvgnq3FABZFVWUgxr7UCwNSRJz97vBU9YX5g5pQ4",
    "commit": {
      "author": {
        "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
      },
      "path": "/map/QmQrtGhPpQbqYiMd8d2mBDDNaDyRHJSQotZLQEwtTjyiMD",
      "qri": "cm:0",
      "signature": "TzHbqw7oRcqoGYhTraiJ9fSGzUUoHA653jNYGsBgbkUbBUkTh/ymTHZSfhwIKQlAqfwiOqB2rbmA4hu2MAYVxNRLfPlUYAr38juyTosI6cljYdzLfNk2L788iFSQcYnJ9CgiHYQlhmpUjh3irFY1nDIuaiPL1vDxH5yGsuI3qiD9DVvu2P6f6GSGMkQzpSv3jDWQbqo5LyyU7gaJBIaJW6Q9vKSB/mRRjDfHtOP2pMH/pf17q35+HaGHd+XEg/6a6X3IWwjsRros029lH6SDCbUaPXB6H3Cy5gRLoZp7K3mU026JucogrVHqRsZmVCx+vaVJ/MCpQhfYg6F8m8z2fA==",
      "timestamp": "2001-01-01T01:01:01.000000001Z",
      "title": "created dataset"
    },
    "path": "/map/QmTx7PcuASCDxuFFoQ8qdpnRSdRVTYbMynHhe1qYXR5xWp",
    "qri": "ds:0",
    "structure": {
      "checksum": "QmVYgdpvgnq3FABZFVWUgxr7UCwNSRJz97vBU9YX5g5pQ4",
      "entries": 5,
      "errCount": 0,
      "format": "csv",
      "formatConfig": {
        "headerRow": true,
        "lazyQuotes": true
      },
      "length": 154,
      "path": "/map/QmPjzg798ZemTNKUM6AyMhboSYoH3vgjFQueXAiNA3G1fT",
      "qri": "st:0",
      "schema": {
        "items": {
          "items": [
            {
              "title": "city",
              "type": "string"
            },
            {
              "title": "pop",
              "type": "integer"
            },
            {
              "title": "avg_age",
              "type": "number"
            },
            {
              "title": "in_usa",
              "type": "string"
            }
          ],
          "type": "array"
        },
        "type": "array"
      }
    }
  },
  "meta": {
    "code": 200,
    "message": " dry run\n"
  }
}

/* snapshot: TestDatasetHandlers publish case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestDatasetHandlers publish case 1: GET /publish/ */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [],
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/publish/?page=2"
  }
}

/* snapshot: TestDatasetHandlers publish case 1: POST /publish/me/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "name": "cities",
    "path": "/map/QmSgwXYRCYfyjpKrm7AvajcNEeh3ppCAPKNhHxFM4hdNAA",
    "peername": "peer",
    "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
    "published": true
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers publish case 2: DELETE /publish/me/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "name": "cities",
    "path": "/map/QmSgwXYRCYfyjpKrm7AvajcNEeh3ppCAPKNhHxFM4hdNAA",
    "peername": "peer",
    "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers publish case 2: POST /publish/me/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "name": "cities",
    "path": "/map/QmQAvmHB7gE5jvXyzqYeAZfAz2dnWxghEjq7hDN8aaJWZM",
    "peername": "peer",
    "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
    "published": true
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers publish case 3: DELETE /publish/me/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "name": "cities",
    "path": "/map/QmQAvmHB7gE5jvXyzqYeAZfAz2dnWxghEjq7hDN8aaJWZM",
    "peername": "peer",
    "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers remove case 0: GET / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers remove case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestDatasetHandlers remove case 0: OPTIONS /remove */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "repo: empty dataset reference"
  }
}

/* snapshot: TestDatasetHandlers remove case 1: GET / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers remove case 1: POST /remove/me/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "/map/QmcCcPTqmckdXLBwPQXxfyW2BbFcUT6gqv9oGeWDkrNTyD",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "path": "/map/QmZC8VZfef27Aw3z7HsgLUmXRQfCtoWxq6S3rGA8dh2jzj",
        "qri": "cm:0",
        "signature": "RZU/18bxxacveMoNvGxINIS9MxvNwtc4OiSCRjCGnospztHNhJfJP0PflrzKG1tqLGi+c4w94BJRmLR/I5YaVqqwm86vGkYhwDRuBEViuT4GlKCzVEFUk63fJsT9YmcUWlabqEnUW2l0O6p+RatfmumlKOleONMYy1woa5PbIzRGoITo4u9piYiV6RVRJ9bURjEU7cr8iVXcwO+YEw6qMCUBKUAok+yttjt+iYm0JLD9hPoQO14Vu4jWMFxByoLvVIEquEqnlgyuQGvelFfuApUI5goTftOcASANuTsnrOe6gq0HJxNN27kAYQujS3swspi7qVrL9X8v341YKu77fQ==",
        "timestamp": "2001-01-01T01:01:01.000000001Z",
        "title": "initial commit"
      },
      "meta": {
        "qri": "md:0",
        "title": "example city data"
      },
      "path": "/map/QmSgwXYRCYfyjpKrm7AvajcNEeh3ppCAPKNhHxFM4hdNAA",
      "qri": "ds:0",
      "structure": {
        "checksum": "QmcCcPTqmckdXLBwPQXxfyW2BbFcUT6gqv9oGeWDkrNTyD",
        "entries": 5,
        "errCount": 0,
        "format": "csv",
        "formatConfig": {
          "headerRow": true
        },
        "length": 155,
        "path": "/map/QmP9p4j6KHUVbczYFmA2UYs3w3Yn6bhoL1tTi9FeTq7fHf",
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "city",
                "type": "string"
              },
              {
                "title": "pop",
                "type": "integer"
              },
              {
                "title": "avg_age",
                "type": "number"
              },
              {
                "title": "in_usa",
                "type": "boolean"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "cities",
    "path": "/map/QmSgwXYRCYfyjpKrm7AvajcNEeh3ppCAPKNhHxFM4hdNAA",
    "peername": "peer",
    "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers remove case 1: POST /remove/peer/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "Message": "logbook, refstore",
    "NumDeleted": -1,
    "Ref": "peer/cities@ovpcsf44ksvtm4wta6ewepkjpn6bvibk552bkzvgzqjhm5ovsf5q/mem/QmWMa5BokbgXoq4AEv7HQXDPkNzqbb8EA9x2WrpWhafvns",
    "Unlinked": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers remove case 2: POST /remove/at/map/QmPRjfgUFrH1GxBqujJ3sEvwV3gzHdux1j4g8SLyjbhwot */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "repo: not found"
  }
}

/* snapshot: TestDatasetHandlers remove case 2: POST /remove/me/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "Message": "logbook, refstore",
    "NumDeleted": -1,
    "Ref": "peer/cities@/map/QmfRUKSPd2hR8w7RLkLb7ihhsAmcFCMuwnXHtKp5fMfgwv",
    "Unlinked": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers remove case 2: POST /remove/peer/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "Message": "logbook, refstore",
    "NumDeleted": -1,
    "Ref": "peer/cities@/map/QmfRUKSPd2hR8w7RLkLb7ihhsAmcFCMuwnXHtKp5fMfgwv",
    "Unlinked": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers remove case 3: POST /remove/at/map/QmPRjfgUFrH1GxBqujJ3sEvwV3gzHdux1j4g8SLyjbhwot */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "repo: not found"
  }
}

/* snapshot: TestDatasetHandlers remove mime/multipart case 0: POST /remove/me/cities */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "repo: not found"
  }
}

/* snapshot: TestDatasetHandlers remove mime/multipart case 0: POST /remove/peer/cities */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "reference not found"
  }
}

/* snapshot: TestDatasetHandlers rename case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestDatasetHandlers rename case 0: POST /rename */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "destination name: dataset name must start with a lower-case letter, and only contain lower-case letters, numbers, dashes, and underscore. Maximum length is 144 characters"
  }
}

/* snapshot: TestDatasetHandlers rename case 1: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers rename case 1: POST /rename */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "destination name: dataset name must start with a lower-case letter, and only contain lower-case letters, numbers, dashes, and underscore. Maximum length is 144 characters"
  }
}

/* snapshot: TestDatasetHandlers rename case 2: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers save case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestDatasetHandlers save case 1: POST / */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "error saving: no changes"
  }
}

/* snapshot: TestDatasetHandlers save case 2: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers save mime/multipart case 0: POST /save */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "option to make dataset private not yet implemented, refer to https://github.com/qri-io/qri/issues/291 for updates"
  }
}

/* snapshot: TestDatasetHandlers save mime/multipart case 1: POST /save */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "QmVYgdpvgnq3FABZFVWUgxr7UCwNSRJz97vBU9YX5g5pQ4",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "testing this out to see if it works!",
        "path": "/mem/QmT7Nw719w2WENkXjUhjNopjtgUrtXxM2YCUNgm5Lgptij",
        "qri": "cm:0",
        "signature": "LQZNQwUM7JdhODizGNr6rsQR8t7Kv/3fxmqhKEWlSaEGzFYU/XM/bDTLaEVh3vpfuv7VRe0KKnsn1cuYFw0OsWBegB1XxZTqX01+WFBUv1btUY6OCPAx+kZUwMalKJx+NjloBKAbfRDSgRv0GVS90HFqgGmLK2amO/jDCDusk+1VNZllDxk5USvIlv+sOITZWz7Yt1JsUBMJhiyam7MBQE927dP0yvMNzItHiYhjJp4ylYVrXgDxXfXrCzkoo85zCMn4HIKW0TKQnmTKkJh2n4ItrjsN3e35m39bV5OIuaoJcrmU0j+RzwEMJ0hFW9oA72OuEtJa9RuJS2Bsjgtw3A==",
        "timestamp": "2001-01-01T01:02:01.000000001Z",
        "title": "initial commit for testing init endpoint"
      },
      "name": "cities",
      "path": "/mem/QmS8aSia9QuGh2eg5FX4hrms7SxnBCk27BzqA7mJTWAsb7",
      "peername": "peer",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "qri": "ds:0",
      "stats": {
        "path": "/mem/QmZjVHiq1brwXQRKMDcc2TuE8UHhQCyTa3WMWnrYXJRUUG",
        "qri": "sa:0",
        "stats": [
          {
            "count": 5,
            "frequencies": {
              "chatham": 1,
              "chicago": 1,
              "new york": 1,
              "raleigh": 1,
              "toronto": 1
            },
            "maxLength": 8,
            "minLength": 7,
            "type": "string",
            "unique": 5
          },
          {
            "count": 5,
            "histogram": {
              "bins": [
                35000,
                250000,
                300000,
                8500000,
                40000000,
                40000001
              ],
              "frequencies": [
                1,
                1,
                1,
                1,
                1
              ]
            },
            "max": 40000000,
            "mean": 9817000,
            "median": 300000,
            "min": 35000,
            "type": "numeric"
          },
          {
            "count": 5,
            "histogram": {
              "bins": [
                44.4,
                50.65,
                55.5,
                65.25,
                66.25
              ],
              "frequencies": [
                2,
                1,
                1,
                1
              ]
            },
            "max": 65.25,
            "mean": 52.04,
            "median": 50.65,
            "min": 44.4,
            "type": "numeric"
          },
          {
            "count": 5,
            "falseCount": 1,
            "trueCount": 4,
            "type": "boolean"
          }
        ]
      },
      "structure": {
        "checksum": "/mem/QmVYgdpvgnq3FABZFVWUgxr7UCwNSRJz97vBU9YX5g5pQ4",
        "depth": 2,
        "entries": 5,
        "format": "csv",
        "formatConfig": {
          "headerRow": true
        },
        "length": 154,
        "path": "/mem/QmNe9EFznkmZ8GnK5k33yypC7hb1wLmKB3yqTxgYhUKn2r",
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "city",
                "type": "string"
              },
              {
                "title": "pop",
                "type": "integer"
              },
              {
                "title": "avg_age",
                "type": "number"
              },
              {
                "title": "in_usa",
                "type": "boolean"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "cities",
    "path": "/mem/QmS8aSia9QuGh2eg5FX4hrms7SxnBCk27BzqA7mJTWAsb7",
    "peername": "peer",
    "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers save mime/multipart case 2: POST /save */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "QmVYgdpvgnq3FABZFVWUgxr7UCwNSRJz97vBU9YX5g5pQ4",
      "commit": {
        "author": {
          "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt"
        },
        "message": "created dataset",
        "path": "/mem/QmSREvEq87pTG21NHnmUTFdTs14xok4j8M7Lj7KfLowYJY",
        "qri": "cm:0",
        "signature": "HTS1ma5sX7HxP0EVZ2UAlIaSAyrnJghKNrlvQLahJvzgNU0LCSYzXmQsamVmJZmDXmNnQ6JOaNA2rq44Wz2ByvoIapHBX5n7mlqXz5/1cynvNs/1ZVZIdkMpD982kz1VpLN9N/zGceDC+5YH/AAps0+1xdQIk9aotMrgzAyvgw3s1wQ1CuTEjJBoBnjAICmvjkV0gHcd85iR9+TWeJfRxgRThTBN6kcdPxZrRQQLX9lFjtf4TNNt1laazG+XlqVbBiAignxifs6yupgxH8W+ECiK5EnSC/kG74gwJflIjd3wm5Kd7dtGZUCkY0yzxNcLMAjss26PFBoj8hEyhmR7SA==",
        "timestamp": "2001-01-01T01:03:01.000000001Z",
        "title": "created dataset"
      },
      "name": "cities_2",
      "path": "/mem/QmPF4WojhGuhKiQcTJhfJmcGZRsWkkjPBoWP498Xwhsph4",
      "peername": "peer",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "qri": "ds:0",
      "stats": {
        "path": "/mem/QmZjVHiq1brwXQRKMDcc2TuE8UHhQCyTa3WMWnrYXJRUUG",
        "qri": "sa:0",
        "stats": [
          {
            "count": 5,
            "frequencies": {
              "chatham": 1,
              "chicago": 1,
              "new york": 1,
              "raleigh": 1,
              "toronto": 1
            },
            "maxLength": 8,
            "minLength": 7,
            "type": "string",
            "unique": 5
          },
          {
            "count": 5,
            "histogram": {
              "bins": [
                35000,
                250000,
                300000,
                8500000,
                40000000,
                40000001
              ],
              "frequencies": [
                1,
                1,
                1,
                1,
                1
              ]
            },
            "max": 40000000,
            "mean": 9817000,
            "median": 300000,
            "min": 35000,
            "type": "numeric"
          },
          {
            "count": 5,
            "histogram": {
              "bins": [
                44.4,
                50.65,
                55.5,
                65.25,
                66.25
              ],
              "frequencies": [
                2,
                1,
                1,
                1
              ]
            },
            "max": 65.25,
            "mean": 52.04,
            "median": 50.65,
            "min": 44.4,
            "type": "numeric"
          },
          {
            "count": 5,
            "falseCount": 1,
            "trueCount": 4,
            "type": "boolean"
          }
        ]
      },
      "structure": {
        "checksum": "/mem/QmVYgdpvgnq3FABZFVWUgxr7UCwNSRJz97vBU9YX5g5pQ4",
        "depth": 2,
        "entries": 5,
        "format": "csv",
        "formatConfig": {
          "headerRow": true,
          "lazyQuotes": true
        },
        "length": 154,
        "path": "/mem/QmcVxhRAwe7wZxz9cbJKbhXhpCrMMNeFUEb5SpveCptr7d",
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "city",
                "type": "string"
              },
              {
                "title": "pop",
                "type": "integer"
              },
              {
                "title": "avg_age",
                "type": "number"
              },
              {
                "title": "in_usa",
                "type": "boolean"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "name": "cities_2",
    "path": "/mem/QmPF4WojhGuhKiQcTJhfJmcGZRsWkkjPBoWP498Xwhsph4",
    "peername": "peer",
    "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers stats case 0: GET /get/peer/craigslist/stats */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "data": [
      {
        "currency": {
          "count": 5,
          "frequencies": {
            "USD": 5
          },
          "maxLength": 3,
          "minLength": 3,
          "unique": 1
        },
        "key": "additionalProperty",
        "name": {
          "count": 5,
          "frequencies": {
            "price": 5
          },
          "maxLength": 5,
          "minLength": 5,
          "unique": 1
        },
        "type": "object",
        "value": {
          "count": 5,
          "histogram": {
            "bins": [
              2095,
              2199,
              3749,
              3995,
              5495,
              5496
            ],
            "frequencies": [
              1,
              1,
              1,
              1,
              1
            ]
          },
          "max": 5495,
          "mean": 3506.6,
          "median": 3749,
          "min": 2095
        }
      },
      {
        "containedInPlace": {
          "name": {
            "count": 5,
            "frequencies": {
              "New York City": 5
            },
            "maxLength": 13,
            "minLength": 13,
            "unique": 1
          }
        },
        "key": "containedIn",
        "name": {
          "count": 5,
          "frequencies": {
            " (ASTORIA)": 1,
            " (Clinton Steet)": 1,
            " (Flatbush @ Newkirk Plaza B/Q)": 1,
            " (Tompkins Square Park)": 1,
            " (Upper East Side)": 1
          },
          "maxLength": 31,
          "minLength": 10,
          "unique": 5
        },
        "type": "object"
      },
      {
        "count": 1,
        "frequencies": {
          "This is a really long string that'll screw with the bytes.Scanner of a reader. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec lobortis vulputate turpis sed convallis. Cras vel lorem rhoncus, volutpat mauris quis, malesuada mi. Etiam ultrices, velit non convallis sollicitudin, tellus mauris tempus turpis, laoreet semper quam felis quis tellus. Integer quam tellus, lobortis sit amet ligula sed, hendrerit placerat ex. Curabitur eu justo vitae sem auctor elementum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Etiam efficitur magna aliquet congue feugiat.In quis ultricies tortor. Nulla eget viverra sapien, a feugiat sem. Praesent cursus ultrices magna, eu pellentesque sem pharetra ut. Nulla ut gravida nunc. Integer laoreet ex id metus laoreet imperdiet. Donec dignissim elementum lacus, quis faucibus justo tincidunt ac. Duis sit amet urna ornare, hendrerit magna quis, congue nisl.Praesent eget urna mollis, ultricies metus ultricies, pharetra sapien. Proin blandit imperdiet enim vel dapibus. Cras ornare ultrices lorem a interdum. Proin at eros porta, scelerisque nunc non, mollis nulla. Maecenas pellentesque euismod hendrerit. Donec lobortis ullamcorper massa, vitae eleifend est condimentum quis. Aliquam luctus suscipit justo, ac rhoncus lorem luctus a. Curabitur vel nibh lectus. Integer lobortis scelerisque augue at rutrum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aliquam suscipit porttitor neque quis ultricies. Donec vulputate tellus nibh, vel consectetur ex blandit nec. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Suspendisse commodo odio in tellus varius, sed congue erat ultricies.Etiam aliquam a ligula molestie maximus. In sagittis, urna at cursus malesuada, erat nunc bibendum mauris, ut elementum turpis felis eu tortor. Curabitur egestas diam et elementum pellentesque. Sed auctor pulvinar neque. Sed pellentesque tortor at dolor interdum fermentum. Morbi porttitor posuere auctor. Nam accumsan consequat magna, at venenatis nunc eleifend vitae. Ut ac scelerisque mi. Maecenas dictum tortor in erat aliquam tincidunt.Nullam iaculis nec diam vitae vehicula. Morbi lobortis urna ut nisl volutpat, nec ultricies sem gravida. Duis sed maximus tellus. Aliquam felis risus, faucibus porttitor est vel, suscipit commodo sapien. Fusce dictum velit in velit accumsan suscipit. Phasellus quis ex vitae augue viverra hendrerit. Ut vulputate risus ut tortor vulputate sagittis. Donec tincidunt libero vel neque efficitur condimentum. Mauris feugiat est vitae risus rutrum, in interdum sapien condimentum. Fusce tortor lectus, iaculis auctor bibendum eget, tempus quis justo.Quisque varius, massa vitae cursus efficitur, elit mauris molestie erat, nec tempus ipsum turpis vitae augue. Duis lacus velit, imperdiet non euismod in, venenatis in arcu. Sed pellentesque vulputate ipsum, ac fringilla est tristique eu. Praesent porttitor dignissim maximus. Quisque sodales, lectus eget imperdiet mollis, leo nibh faucibus mauris, quis scelerisque ex augue nec felis. Donec purus urna, placerat sit amet finibus ac, feugiat eget enim. Nam elementum id eros sed tincidunt.Fusce a convallis erat, ac suscipit enim. Nunc bibendum mi ornare, faucibus lorem nec, fermentum dolor. Cras ante dui, blandit et enim in, rutrum viverra mauris. Proin pretium nibh enim, et commodo ipsum condimentum consectetur. Vivamus tempor dignissim urna id tempus. Vivamus volutpat, libero vel sagittis vulputate, odio nisl vestibulum leo, eleifend molestie metus ligula id turpis. Quisque id quam gravida, feugiat sem in, cursus diam. Pellentesque quis metus sit amet ligula dignissim molestie a eu turpis. Phasellus quis rhoncus justo.Vestibulum eget velit eu libero pulvinar luctus quis ac felis. Donec ultrices ac risus efficitur eleifend. Nulla lobortis tellus hendrerit imperdiet finibus. Maecenas tincidunt volutpat sapien tristique pharetra. Vivamus efficitur ultrices semper. Vestibulum id ex enim. Sed eleifend pulvinar dui a fermentum. Curabitur tincidunt quam id tortor imperdiet pulvinar. Quisque nibh turpis, luctus non volutpat quis, hendrerit quis lectus. In facilisis mollis arcu, in ultricies arcu fringilla id. Nullam in neque tortor. Mauris ultrices felis quis consectetur imperdiet. Vestibulum eleifend eros eget hendrerit porta.Fusce suscipit nulla nec diam tempor viverra. Nullam vehicula, lectus non elementum pretium, mi ipsum mattis mauris, ac aliquet orci turpis at libero. Vestibulum imperdiet sapien eu felis consequat, sit amet porttitor enim ornare. Curabitur eu bibendum sem. Pellentesque congue ultricies hendrerit. Maecenas eget urna orci. Maecenas dignissim, dui sit amet volutpat molestie, metus enim interdum enim, eget gravida leo arcu id nisl. Aenean vitae euismod nisi. Nullam sed sapien ac metus porta tincidunt nec in tortor. Aliquam ultrices volutpat pretium. Vivamus et sagittis elit, eu vestibulum lacus. Aenean lacus enim, volutpat ac mauris et, ornare molestie ligula.Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nulla fringilla efficitur est at auctor. Etiam venenatis tempus lorem, at consectetur augue maximus in. Donec semper sem sit amet sapien congue interdum. Aenean consequat elementum sapien, porta volutpat mi hendrerit vitae. Ut sit amet maximus magna. Sed pulvinar nisl nulla, eu fermentum enim finibus in.Etiam sed luctus mauris. Vestibulum felis dui, ullamcorper non metus nec, ultricies viverra lacus. Proin quis iaculis lectus. Morbi quis nulla vel augue mattis faucibus quis sit amet arcu. Ut posuere vitae massa eu sagittis. Vivamus pellentesque orci tristique molestie luctus. Nullam et lacinia lorem. Sed vestibulum ut dui vitae tristique. Nullam eget quam ante. Pellentesque quis dolor ac mauris viverra fringilla bibendum eget odio. Cras consectetur posuere tempor. Nunc nec diam eget ante ullamcorper pellentesque nec eget libero. Vivamus pretium elit non ipsum rutrum dignissim.Suspendisse consequat, arcu a vestibulum tempus, eros sem luctus purus, ut laoreet purus nisi at nulla. Curabitur semper dui a consequat consectetur. Cras dignissim est sodales feugiat ullamcorper. Nam at convallis diam. Cras efficitur, felis vitae elementum egestas, nulla diam semper ex, at faucibus arcu neque sit amet mi. Duis justo magna, eleifend id pulvinar a, placerat at tortor. Pellentesque vitae tincidunt eros. Phasellus varius turpis id purus aliquet, id congue ipsum rutrum. Nulla ut erat ac purus interdum sollicitudin non ac felis. Maecenas egestas venenatis eros vel facilisis. In et tortor ante. Cras ullamcorper elit sit amet diam tempus vestibulum. Aliquam erat volutpat. Suspendisse quis laoreet ipsum, ut luctus augue.Vivamus quis placerat diam. Suspendisse ultricies non enim at ornare. Cras et quam vel libero ultrices congue id ut ante. Nam facilisis ipsum maximus, lacinia odio eu, semper orci. Duis ut elementum massa, non consectetur arcu. Nullam ligula mauris, viverra vehicula venenatis et, luctus quis nunc. Nam sit amet lobortis libero. Sed sed commodo velit. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Integer et magna ac metus sollicitudin posuere. Nulla pulvinar sem id nisl posuere, vitae mattis ante gravida. Nulla quis tellus pellentesque quam blandit ultrices ullamcorper quis tortor. Sed libero velit, rhoncus sed arcu vel, blandit aliquet neque. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.Donec egestas blandit tincidunt. Sed aliquam turpis quam, sed condimentum nibh sodales a. Pellentesque finibus metus sit amet mattis dignissim. Nullam euismod odio non ullamcorper imperdiet. Proin quis viverra tortor. Nullam et bibendum lectus, nec facilisis nisl. Vestibulum pellentesque auctor ipsum quis euismod. Aliquam libero nisi, feugiat quis mauris ac, tristique fermentum elit. Phasellus velit lectus, rhoncus ac augue sed, tincidunt ornare purus. Nulla faucibus odio leo, sed tincidunt felis tempor a. Proin magna lacus, dictum at mattis vel, mattis a nisl. Aliquam dolor felis, pharetra at lacinia venenatis, ullamcorper vel nisi. Mauris blandit ligula hendrerit laoreet blandit.Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam at dolor sit amet ex blandit congue. Suspendisse congue felis a sapien fermentum, a accumsan purus fringilla. Donec vitae elit ac enim sodales feugiat. Mauris luctus gravida ante, et sagittis lacus condimentum rhoncus. Proin ullamcorper velit eu mi malesuada varius. Phasellus sit amet pretium est, sit amet placerat nunc. Vivamus eget interdum lacus, rhoncus porta tellus. Nam vulputate sapien at dui suscipit, in fringilla enim cursus. Sed malesuada nec tortor eget accumsan. Sed pellentesque ac massa at rutrum. Duis elementum lacus quis ante varius consectetur. Sed iaculis nisi urna, a ultricies nisl suscipit non.Vivamus nulla nulla, venenatis sed dictum eget, lacinia non turpis. Proin eu vehicula eros, vel cursus tortor. Ut commodo convallis velit, vitae scelerisque est condimentum sodales. Aliquam convallis massa in libero euismod, vitae euismod mauris tempor. Duis elit mi, ornare quis purus pretium, aliquet sagittis sem. Morbi dapibus, felis sit amet faucibus facilisis, nisl nisi malesuada eros, a dignissim lorem neque non dolor. Sed lectus est, ultrices in placerat id, ullamcorper at augue. Nam sem erat, blandit et arcu a, posuere lobortis tellus.Nam non augue luctus, vulputate nisl eu, ornare turpis. Curabitur vehicula est vitae urna vestibulum pretium. Proin mollis, nulla et pretium euismod, arcu quam molestie nunc, in facilisis dolor nunc eu mauris. Nunc vulputate urna eu mi pulvinar consequat. Suspendisse tristique vel turpis eget molestie. Duis lorem ante, luctus in pellentesque a, volutpat quis dolor. Praesent ornare massa eros, eget porttitor ante consequat vitae. Aliquam molestie massa id libero blandit, a tincidunt lacus iaculis. Aenean id lacus et tellus viverra tempus. Donec sit amet efficitur diam. Mauris condimentum neque sed augue feugiat, a facilisis nisi convallis. Phasellus a arcu consequat, ullamcorper nisl vel, pretium tellus. Sed venenatis pretium turpis id semper. In gravida nunc rhoncus interdum elementum. Quisque quis orci orci. Cras suscipit efficitur nisl nec congue.Donec mollis, mi eget semper feugiat, magna neque pulvinar libero, in dictum tellus enim ut enim. Proin vel ex eleifend, porttitor risus sit amet, pellentesque mauris. Cras at mi et neque pellentesque cursus a at justo. Vestibulum tristique egestas lacus vel scelerisque. Phasellus vehicula pretium lorem, quis imperdiet ipsum interdum eget. Aliquam non purus pharetra, elementum eros eu, vestibulum erat. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Suspendisse ut risus in velit pellentesque sagittis ut non lacus. In porta ut nisl at mattis. Cras odio libero, hendrerit quis massa a, ultrices vestibulum nunc. Suspendisse volutpat, mauris nec iaculis cursus, odio mi laoreet arcu, eu feugiat urna augue non est. Duis tincidunt est sem, id sollicitudin enim fermentum quis.Nullam porta libero lacus, elementum ullamcorper lacus feugiat ac. Duis pulvinar, velit quis elementum dignissim, lorem neque tincidunt est, quis ultricies felis velit sit amet quam. In nec purus in quam vulputate venenatis eu quis velit. Morbi convallis tellus in nulla euismod semper. Aenean feugiat pharetra rhoncus. Nulla convallis efficitur convallis. Pellentesque finibus vehicula lectus vitae fermentum. Cras et egestas sapien, at vulputate magna. In tempus risus vitae tincidunt finibus. Integer non est eget nunc rutrum accumsan. Donec gravida, est sit amet pretium facilisis, lorem est dignissim diam, vel pretium lectus nisi ut arcu. Maecenas odio leo, fermentum eu turpis a, fermentum pulvinar magna. Praesent suscipit nibh mauris, dapibus suscipit libero maximus sed. Donec hendrerit a quam sed cursus. Aenean rhoncus nec ipsum nec pellentesque.Etiam blandit molestie purus, sed ultricies tortor malesuada a. Pellentesque eu porta purus, non consequat leo. Morbi ultricies fermentum mi a tincidunt. Praesent sodales metus quis elit feugiat faucibus. Etiam feugiat nulla in massa posuere, a molestie orci tincidunt. Cras venenatis tincidunt sodales. Quisque laoreet neque vitae sagittis convallis. Aliquam dictum mauris vitae lacus viverra sollicitudin.Morbi pretium vestibulum gravida. Sed leo arcu, volutpat vestibulum finibus vel, consectetur sit amet nisl. Maecenas a fermentum metus, et dignissim justo. Nullam quis metus ut sapien vulputate blandit. Aenean euismod mattis est. Fusce augue lectus, faucibus non velit at, lacinia commodo massa. Proin posuere, tellus eget malesuada faucibus, lectus nunc auctor sapien, et fermentum erat elit at leo. Vestibulum pellentesque rutrum tempor. Pellentesque scelerisque tortor ac dapibus cursus. Fusce aliquet ex in dictum laoreet. Proin porta consequat erat nec consequat. Maecenas posuere elit eget lacus pharetra, non facilisis velit dictum. Sed ornare mattis fringilla.Vestibulum pellentesque, odio a suscipit dictum, elit orci ultrices mi, rutrum porta nulla mi eget libero. Aliquam est lacus, sagittis eu ultrices sed, ullamcorper id lectus. Sed dignissim et velit ut fringilla. Nulla aliquet, nunc quis faucibus mollis, mauris diam finibus turpis, eget fermentum nibh elit quis lorem. Pellentesque aliquam pharetra erat sit amet consectetur. Vivamus et velit quis purus ullamcorper cursus quis at nisi. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Morbi mauris justo, porttitor vitae leo vel, rhoncus elementum arcu. Donec aliquam enim sollicitudin libero posuere vestibulum. Sed mi tortor, molestie sed auctor vitae, faucibus id ipsum. Aliquam erat volutpat. Praesent non diam est. Etiam vehicula dui eu eros commodo, ut porta magna tempus. Morbi dapibus faucibus suscipit. Aenean eget accumsan magna. Etiam ut neque auctor, mollis nunc nec, sagittis diam.Integer et urna vulputate, eleifend lectus sed, placerat magna. Sed ornare libero et lectus varius, vehicula euismod sapien hendrerit. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Sed quis tempus sapien. Ut quis gravida sapien, quis varius leo. Duis malesuada purus id magna sollicitudin interdum. Vestibulum tempor eros eget bibendum luctus. Nulla nec efficitur ligula. Nullam ipsum dui, rutrum eu ligula ac, dictum porta arcu. Quisque ut enim porta, posuere turpis quis, elementum felis. Sed eget massa mauris. Phasellus luctus est eget lacinia mattis. Integer eget neque felis. Interdum et malesuada fames ac ante ipsum primis in faucibus. Aliquam congue congue leo, eu bibendum mi ornare et.Sed quis tempus urna. Etiam sodales mauris id risus ornare rhoncus. Aenean sed egestas nisl. Ut at commodo tortor. Vestibulum feugiat nunc leo, eget tempus odio vehicula et. Donec feugiat leo risus, ac ultricies ex bibendum nec. In hac habitasse platea dictumst. Duis malesuada sem vitae felis accumsan, at dignissim risus eleifend. Donec accumsan quam non bibendum finibus. Nulla euismod tellus eu lectus eleifend bibendum. Morbi at libero orci. Phasellus arcu enim, hendrerit laoreet ullamcorper sed, interdum non turpis. Suspendisse cursus nibh vitae odio mattis tempor. Donec at tincidunt tellus. Etiam at velit pellentesque, ornare mi blandit, elementum nunc.Maecenas egestas volutpat mi, in dictum augue mollis nec. Aenean massa mi, porta at laoreet vel, viverra ac erat. Fusce dictum sodales libero at dapibus. Praesent id magna vel dui molestie porttitor. In sed orci a felis iaculis congue sed consectetur elit. Nulla efficitur diam eu lacus vehicula, et tempor ex venenatis. Integer eleifend tellus ac orci venenatis auctor. Aenean neque dui, ultricies at commodo et, convallis eget metus. Mauris at felis consequat, sollicitudin velit eu, ultricies sapien. Vestibulum eget volutpat nulla, non sodales est. Etiam dignissim est vel metus mollis facilisis. Donec at mollis urna, quis venenatis neque. Nullam aliquam, nisl et porta elementum, ante neque condimentum mauris, eu volutpat ante lorem vitae orci. Suspendisse vel suscipit est, ut aliquet urna.": 1
        },
        "key": "data",
        "maxLength": 16265,
        "minLength": 16265,
        "type": "string",
        "unique": 1
      },
      {
        "count": 5,
        "frequencies": {
          "Gorgeous 3 Bedroom in Prime Area! Amazing Deal! | No Fee": 1,
          "NO BROKER FEE 1BEDROOM DISHWASHER LAUNDRY ALOT OF CLOSETS NW TRAIN": 1,
          "NO FEE***PETS OK*** NICE VIEWS": 1,
          "Sunny // Two Baths // large apartment!": 1,
          "w/ Large outdoor space. For April 1st!": 1
        },
        "key": "name",
        "maxLength": 66,
        "minLength": 30,
        "type": "string",
        "unique": 5
      },
      {
        "count": 5,
        "frequencies": {
          "https://newyork.craigslist.org/brk/nfb/d/gorgeous-3-bedroom-in-prime/6498995602.html": 1,
          "https://newyork.craigslist.org/mnh/nfb/d/large-outdoor-space-for-april/6498985027.html": 1,
          "https://newyork.craigslist.org/mnh/nfb/d/no-feepets-ok-nice-views/6498982168.html": 1,
          "https://newyork.craigslist.org/mnh/nfb/d/sunny-two-baths-large/6498982528.html": 1,
          "https://newyork.craigslist.org/que/nfb/d/no-broker-fee-1bedroom/6498981871.html": 1
        },
        "key": "url",
        "maxLength": 86,
        "minLength": 78,
        "type": "string",
        "unique": 5
      }
    ],
    "path": "/mem/QmXD8mtDcUi9JjB6h6ws5EQVFikzpaKaojVbW3KK5CArmf"
  },
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/get/peer/craigslist/stats?page=2",
    "page": 1,
    "pageSize": 50,
    "prevUrl": ""
  }
}

/* snapshot: TestDatasetHandlers stats case 0: GET /stats/peer/craigslist */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [
    {
      "currency": {
        "count": 5,
        "frequencies": {
          "USD": 5
        },
        "maxLength": 3,
        "minLength": 3,
        "unique": 1
      },
      "key": "additionalProperty",
      "name": {
        "count": 5,
        "frequencies": {
          "price": 5
        },
        "maxLength": 5,
        "minLength": 5,
        "unique": 1
      },
      "type": "object",
      "value": {
        "count": 5,
        "histogram": {
          "bins": [
            2095,
            2199,
            3749,
            3995,
            5495,
            5496
          ],
          "frequencies": [
            1,
            1,
            1,
            1,
            1
          ]
        },
        "max": 5495,
        "mean": 3506.6,
        "median": 3749,
        "min": 2095
      }
    },
    {
      "containedInPlace": {
        "name": {
          "count": 5,
          "frequencies": {
            "New York City": 5
          },
          "maxLength": 13,
          "minLength": 13,
          "unique": 1
        }
      },
      "key": "containedIn",
      "name": {
        "count": 5,
        "frequencies": {
          " (ASTORIA)": 1,
          " (Clinton Steet)": 1,
          " (Flatbush @ Newkirk Plaza B/Q)": 1,
          " (Tompkins Square Park)": 1,
          " (Upper East Side)": 1
        },
        "maxLength": 31,
        "minLength": 10,
        "unique": 5
      },
      "type": "object"
    },
    {
      "count": 1,
      "frequencies": {
        "This is a really long string that'll screw with the bytes.Scanner of a reader. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec lobortis vulputate turpis sed convallis. Cras vel lorem rhoncus, volutpat mauris quis, malesuada mi. Etiam ultrices, velit non convallis sollicitudin, tellus mauris tempus turpis, laoreet semper quam felis quis tellus. Integer quam tellus, lobortis sit amet ligula sed, hendrerit placerat ex. Curabitur eu justo vitae sem auctor elementum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Etiam efficitur magna aliquet congue feugiat.In quis ultricies tortor. Nulla eget viverra sapien, a feugiat sem. Praesent cursus ultrices magna, eu pellentesque sem pharetra ut. Nulla ut gravida nunc. Integer laoreet ex id metus laoreet imperdiet. Donec dignissim elementum lacus, quis faucibus justo tincidunt ac. Duis sit amet urna ornare, hendrerit magna quis, congue nisl.Praesent eget urna mollis, ultricies metus ultricies, pharetra sapien. Proin blandit imperdiet enim vel dapibus. Cras ornare ultrices lorem a interdum. Proin at eros porta, scelerisque nunc non, mollis nulla. Maecenas pellentesque euismod hendrerit. Donec lobortis ullamcorper massa, vitae eleifend est condimentum quis. Aliquam luctus suscipit justo, ac rhoncus lorem luctus a. Curabitur vel nibh lectus. Integer lobortis scelerisque augue at rutrum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aliquam suscipit porttitor neque quis ultricies. Donec vulputate tellus nibh, vel consectetur ex blandit nec. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Suspendisse commodo odio in tellus varius, sed congue erat ultricies.Etiam aliquam a ligula molestie maximus. In sagittis, urna at cursus malesuada, erat nunc bibendum mauris, ut elementum turpis felis eu tortor. Curabitur egestas diam et elementum pellentesque. Sed auctor pulvinar neque. Sed pellentesque tortor at dolor interdum fermentum. Morbi porttitor posuere auctor. Nam accumsan consequat magna, at venenatis nunc eleifend vitae. Ut ac scelerisque mi. Maecenas dictum tortor in erat aliquam tincidunt.Nullam iaculis nec diam vitae vehicula. Morbi lobortis urna ut nisl volutpat, nec ultricies sem gravida. Duis sed maximus tellus. Aliquam felis risus, faucibus porttitor est vel, suscipit commodo sapien. Fusce dictum velit in velit accumsan suscipit. Phasellus quis ex vitae augue viverra hendrerit. Ut vulputate risus ut tortor vulputate sagittis. Donec tincidunt libero vel neque efficitur condimentum. Mauris feugiat est vitae risus rutrum, in interdum sapien condimentum. Fusce tortor lectus, iaculis auctor bibendum eget, tempus quis justo.Quisque varius, massa vitae cursus efficitur, elit mauris molestie erat, nec tempus ipsum turpis vitae augue. Duis lacus velit, imperdiet non euismod in, venenatis in arcu. Sed pellentesque vulputate ipsum, ac fringilla est tristique eu. Praesent porttitor dignissim maximus. Quisque sodales, lectus eget imperdiet mollis, leo nibh faucibus mauris, quis scelerisque ex augue nec felis. Donec purus urna, placerat sit amet finibus ac, feugiat eget enim. Nam elementum id eros sed tincidunt.Fusce a convallis erat, ac suscipit enim. Nunc bibendum mi ornare, faucibus lorem nec, fermentum dolor. Cras ante dui, blandit et enim in, rutrum viverra mauris. Proin pretium nibh enim, et commodo ipsum condimentum consectetur. Vivamus tempor dignissim urna id tempus. Vivamus volutpat, libero vel sagittis vulputate, odio nisl vestibulum leo, eleifend molestie metus ligula id turpis. Quisque id quam gravida, feugiat sem in, cursus diam. Pellentesque quis metus sit amet ligula dignissim molestie a eu turpis. Phasellus quis rhoncus justo.Vestibulum eget velit eu libero pulvinar luctus quis ac felis. Donec ultrices ac risus efficitur eleifend. Nulla lobortis tellus hendrerit imperdiet finibus. Maecenas tincidunt volutpat sapien tristique pharetra. Vivamus efficitur ultrices semper. Vestibulum id ex enim. Sed eleifend pulvinar dui a fermentum. Curabitur tincidunt quam id tortor imperdiet pulvinar. Quisque nibh turpis, luctus non volutpat quis, hendrerit quis lectus. In facilisis mollis arcu, in ultricies arcu fringilla id. Nullam in neque tortor. Mauris ultrices felis quis consectetur imperdiet. Vestibulum eleifend eros eget hendrerit porta.Fusce suscipit nulla nec diam tempor viverra. Nullam vehicula, lectus non elementum pretium, mi ipsum mattis mauris, ac aliquet orci turpis at libero. Vestibulum imperdiet sapien eu felis consequat, sit amet porttitor enim ornare. Curabitur eu bibendum sem. Pellentesque congue ultricies hendrerit. Maecenas eget urna orci. Maecenas dignissim, dui sit amet volutpat molestie, metus enim interdum enim, eget gravida leo arcu id nisl. Aenean vitae euismod nisi. Nullam sed sapien ac metus porta tincidunt nec in tortor. Aliquam ultrices volutpat pretium. Vivamus et sagittis elit, eu vestibulum lacus. Aenean lacus enim, volutpat ac mauris et, ornare molestie ligula.Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nulla fringilla efficitur est at auctor. Etiam venenatis tempus lorem, at consectetur augue maximus in. Donec semper sem sit amet sapien congue interdum. Aenean consequat elementum sapien, porta volutpat mi hendrerit vitae. Ut sit amet maximus magna. Sed pulvinar nisl nulla, eu fermentum enim finibus in.Etiam sed luctus mauris. Vestibulum felis dui, ullamcorper non metus nec, ultricies viverra lacus. Proin quis iaculis lectus. Morbi quis nulla vel augue mattis faucibus quis sit amet arcu. Ut posuere vitae massa eu sagittis. Vivamus pellentesque orci tristique molestie luctus. Nullam et lacinia lorem. Sed vestibulum ut dui vitae tristique. Nullam eget quam ante. Pellentesque quis dolor ac mauris viverra fringilla bibendum eget odio. Cras consectetur posuere tempor. Nunc nec diam eget ante ullamcorper pellentesque nec eget libero. Vivamus pretium elit non ipsum rutrum dignissim.Suspendisse consequat, arcu a vestibulum tempus, eros sem luctus purus, ut laoreet purus nisi at nulla. Curabitur semper dui a consequat consectetur. Cras dignissim est sodales feugiat ullamcorper. Nam at convallis diam. Cras efficitur, felis vitae elementum egestas, nulla diam semper ex, at faucibus arcu neque sit amet mi. Duis justo magna, eleifend id pulvinar a, placerat at tortor. Pellentesque vitae tincidunt eros. Phasellus varius turpis id purus aliquet, id congue ipsum rutrum. Nulla ut erat ac purus interdum sollicitudin non ac felis. Maecenas egestas venenatis eros vel facilisis. In et tortor ante. Cras ullamcorper elit sit amet diam tempus vestibulum. Aliquam erat volutpat. Suspendisse quis laoreet ipsum, ut luctus augue.Vivamus quis placerat diam. Suspendisse ultricies non enim at ornare. Cras et quam vel libero ultrices congue id ut ante. Nam facilisis ipsum maximus, lacinia odio eu, semper orci. Duis ut elementum massa, non consectetur arcu. Nullam ligula mauris, viverra vehicula venenatis et, luctus quis nunc. Nam sit amet lobortis libero. Sed sed commodo velit. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Integer et magna ac metus sollicitudin posuere. Nulla pulvinar sem id nisl posuere, vitae mattis ante gravida. Nulla quis tellus pellentesque quam blandit ultrices ullamcorper quis tortor. Sed libero velit, rhoncus sed arcu vel, blandit aliquet neque. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.Donec egestas blandit tincidunt. Sed aliquam turpis quam, sed condimentum nibh sodales a. Pellentesque finibus metus sit amet mattis dignissim. Nullam euismod odio non ullamcorper imperdiet. Proin quis viverra tortor. Nullam et bibendum lectus, nec facilisis nisl. Vestibulum pellentesque auctor ipsum quis euismod. Aliquam libero nisi, feugiat quis mauris ac, tristique fermentum elit. Phasellus velit lectus, rhoncus ac augue sed, tincidunt ornare purus. Nulla faucibus odio leo, sed tincidunt felis tempor a. Proin magna lacus, dictum at mattis vel, mattis a nisl. Aliquam dolor felis, pharetra at lacinia venenatis, ullamcorper vel nisi. Mauris blandit ligula hendrerit laoreet blandit.Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam at dolor sit amet ex blandit congue. Suspendisse congue felis a sapien fermentum, a accumsan purus fringilla. Donec vitae elit ac enim sodales feugiat. Mauris luctus gravida ante, et sagittis lacus condimentum rhoncus. Proin ullamcorper velit eu mi malesuada varius. Phasellus sit amet pretium est, sit amet placerat nunc. Vivamus eget interdum lacus, rhoncus porta tellus. Nam vulputate sapien at dui suscipit, in fringilla enim cursus. Sed malesuada nec tortor eget accumsan. Sed pellentesque ac massa at rutrum. Duis elementum lacus quis ante varius consectetur. Sed iaculis nisi urna, a ultricies nisl suscipit non.Vivamus nulla nulla, venenatis sed dictum eget, lacinia non turpis. Proin eu vehicula eros, vel cursus tortor. Ut commodo convallis velit, vitae scelerisque est condimentum sodales. Aliquam convallis massa in libero euismod, vitae euismod mauris tempor. Duis elit mi, ornare quis purus pretium, aliquet sagittis sem. Morbi dapibus, felis sit amet faucibus facilisis, nisl nisi malesuada eros, a dignissim lorem neque non dolor. Sed lectus est, ultrices in placerat id, ullamcorper at augue. Nam sem erat, blandit et arcu a, posuere lobortis tellus.Nam non augue luctus, vulputate nisl eu, ornare turpis. Curabitur vehicula est vitae urna vestibulum pretium. Proin mollis, nulla et pretium euismod, arcu quam molestie nunc, in facilisis dolor nunc eu mauris. Nunc vulputate urna eu mi pulvinar consequat. Suspendisse tristique vel turpis eget molestie. Duis lorem ante, luctus in pellentesque a, volutpat quis dolor. Praesent ornare massa eros, eget porttitor ante consequat vitae. Aliquam molestie massa id libero blandit, a tincidunt lacus iaculis. Aenean id lacus et tellus viverra tempus. Donec sit amet efficitur diam. Mauris condimentum neque sed augue feugiat, a facilisis nisi convallis. Phasellus a arcu consequat, ullamcorper nisl vel, pretium tellus. Sed venenatis pretium turpis id semper. In gravida nunc rhoncus interdum elementum. Quisque quis orci orci. Cras suscipit efficitur nisl nec congue.Donec mollis, mi eget semper feugiat, magna neque pulvinar libero, in dictum tellus enim ut enim. Proin vel ex eleifend, porttitor risus sit amet, pellentesque mauris. Cras at mi et neque pellentesque cursus a at justo. Vestibulum tristique egestas lacus vel scelerisque. Phasellus vehicula pretium lorem, quis imperdiet ipsum interdum eget. Aliquam non purus pharetra, elementum eros eu, vestibulum erat. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Suspendisse ut risus in velit pellentesque sagittis ut non lacus. In porta ut nisl at mattis. Cras odio libero, hendrerit quis massa a, ultrices vestibulum nunc. Suspendisse volutpat, mauris nec iaculis cursus, odio mi laoreet arcu, eu feugiat urna augue non est. Duis tincidunt est sem, id sollicitudin enim fermentum quis.Nullam porta libero lacus, elementum ullamcorper lacus feugiat ac. Duis pulvinar, velit quis elementum dignissim, lorem neque tincidunt est, quis ultricies felis velit sit amet quam. In nec purus in quam vulputate venenatis eu quis velit. Morbi convallis tellus in nulla euismod semper. Aenean feugiat pharetra rhoncus. Nulla convallis efficitur convallis. Pellentesque finibus vehicula lectus vitae fermentum. Cras et egestas sapien, at vulputate magna. In tempus risus vitae tincidunt finibus. Integer non est eget nunc rutrum accumsan. Donec gravida, est sit amet pretium facilisis, lorem est dignissim diam, vel pretium lectus nisi ut arcu. Maecenas odio leo, fermentum eu turpis a, fermentum pulvinar magna. Praesent suscipit nibh mauris, dapibus suscipit libero maximus sed. Donec hendrerit a quam sed cursus. Aenean rhoncus nec ipsum nec pellentesque.Etiam blandit molestie purus, sed ultricies tortor malesuada a. Pellentesque eu porta purus, non consequat leo. Morbi ultricies fermentum mi a tincidunt. Praesent sodales metus quis elit feugiat faucibus. Etiam feugiat nulla in massa posuere, a molestie orci tincidunt. Cras venenatis tincidunt sodales. Quisque laoreet neque vitae sagittis convallis. Aliquam dictum mauris vitae lacus viverra sollicitudin.Morbi pretium vestibulum gravida. Sed leo arcu, volutpat vestibulum finibus vel, consectetur sit amet nisl. Maecenas a fermentum metus, et dignissim justo. Nullam quis metus ut sapien vulputate blandit. Aenean euismod mattis est. Fusce augue lectus, faucibus non velit at, lacinia commodo massa. Proin posuere, tellus eget malesuada faucibus, lectus nunc auctor sapien, et fermentum erat elit at leo. Vestibulum pellentesque rutrum tempor. Pellentesque scelerisque tortor ac dapibus cursus. Fusce aliquet ex in dictum laoreet. Proin porta consequat erat nec consequat. Maecenas posuere elit eget lacus pharetra, non facilisis velit dictum. Sed ornare mattis fringilla.Vestibulum pellentesque, odio a suscipit dictum, elit orci ultrices mi, rutrum porta nulla mi eget libero. Aliquam est lacus, sagittis eu ultrices sed, ullamcorper id lectus. Sed dignissim et velit ut fringilla. Nulla aliquet, nunc quis faucibus mollis, mauris diam finibus turpis, eget fermentum nibh elit quis lorem. Pellentesque aliquam pharetra erat sit amet consectetur. Vivamus et velit quis purus ullamcorper cursus quis at nisi. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Morbi mauris justo, porttitor vitae leo vel, rhoncus elementum arcu. Donec aliquam enim sollicitudin libero posuere vestibulum. Sed mi tortor, molestie sed auctor vitae, faucibus id ipsum. Aliquam erat volutpat. Praesent non diam est. Etiam vehicula dui eu eros commodo, ut porta magna tempus. Morbi dapibus faucibus suscipit. Aenean eget accumsan magna. Etiam ut neque auctor, mollis nunc nec, sagittis diam.Integer et urna vulputate, eleifend lectus sed, placerat magna. Sed ornare libero et lectus varius, vehicula euismod sapien hendrerit. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Sed quis tempus sapien. Ut quis gravida sapien, quis varius leo. Duis malesuada purus id magna sollicitudin interdum. Vestibulum tempor eros eget bibendum luctus. Nulla nec efficitur ligula. Nullam ipsum dui, rutrum eu ligula ac, dictum porta arcu. Quisque ut enim porta, posuere turpis quis, elementum felis. Sed eget massa mauris. Phasellus luctus est eget lacinia mattis. Integer eget neque felis. Interdum et malesuada fames ac ante ipsum primis in faucibus. Aliquam congue congue leo, eu bibendum mi ornare et.Sed quis tempus urna. Etiam sodales mauris id risus ornare rhoncus. Aenean sed egestas nisl. Ut at commodo tortor. Vestibulum feugiat nunc leo, eget tempus odio vehicula et. Donec feugiat leo risus, ac ultricies ex bibendum nec. In hac habitasse platea dictumst. Duis malesuada sem vitae felis accumsan, at dignissim risus eleifend. Donec accumsan quam non bibendum finibus. Nulla euismod tellus eu lectus eleifend bibendum. Morbi at libero orci. Phasellus arcu enim, hendrerit laoreet ullamcorper sed, interdum non turpis. Suspendisse cursus nibh vitae odio mattis tempor. Donec at tincidunt tellus. Etiam at velit pellentesque, ornare mi blandit, elementum nunc.Maecenas egestas volutpat mi, in dictum augue mollis nec. Aenean massa mi, porta at laoreet vel, viverra ac erat. Fusce dictum sodales libero at dapibus. Praesent id magna vel dui molestie porttitor. In sed orci a felis iaculis congue sed consectetur elit. Nulla efficitur diam eu lacus vehicula, et tempor ex venenatis. Integer eleifend tellus ac orci venenatis auctor. Aenean neque dui, ultricies at commodo et, convallis eget metus. Mauris at felis consequat, sollicitudin velit eu, ultricies sapien. Vestibulum eget volutpat nulla, non sodales est. Etiam dignissim est vel metus mollis facilisis. Donec at mollis urna, quis venenatis neque. Nullam aliquam, nisl et porta elementum, ante neque condimentum mauris, eu volutpat ante lorem vitae orci. Suspendisse vel suscipit est, ut aliquet urna.": 1
      },
      "key": "data",
      "maxLength": 16265,
      "minLength": 16265,
      "type": "string",
      "unique": 1
    },
    {
      "count": 5,
      "frequencies": {
        "Gorgeous 3 Bedroom in Prime Area! Amazing Deal! | No Fee": 1,
        "NO BROKER FEE 1BEDROOM DISHWASHER LAUNDRY ALOT OF CLOSETS NW TRAIN": 1,
        "NO FEE***PETS OK*** NICE VIEWS": 1,
        "Sunny // Two Baths // large apartment!": 1,
        "w/ Large outdoor space. For April 1st!": 1
      },
      "key": "name",
      "maxLength": 66,
      "minLength": 30,
      "type": "string",
      "unique": 5
    },
    {
      "count": 5,
      "frequencies": {
        "https://newyork.craigslist.org/brk/nfb/d/gorgeous-3-bedroom-in-prime/6498995602.html": 1,
        "https://newyork.craigslist.org/mnh/nfb/d/large-outdoor-space-for-april/6498985027.html": 1,
        "https://newyork.craigslist.org/mnh/nfb/d/no-feepets-ok-nice-views/6498982168.html": 1,
        "https://newyork.craigslist.org/mnh/nfb/d/sunny-two-baths-large/6498982528.html": 1,
        "https://newyork.craigslist.org/que/nfb/d/no-broker-fee-1bedroom/6498981871.html": 1
      },
      "key": "url",
      "maxLength": 86,
      "minLength": 78,
      "type": "string",
      "unique": 5
    }
  ],
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers stats case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestDatasetHandlers stats case 1: GET /get/peer/family_relationships/at/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg/stats */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "data": [
      {
        "count": 2,
        "histogram": {
          "bins": [
            1001,
            1010,
            1011
          ],
          "frequencies": [
            1,
            1
          ]
        },
        "max": 1010,
        "mean": 1005.5,
        "median": 1010,
        "min": 1001,
        "type": "numeric"
      },
      {
        "count": 2,
        "histogram": {
          "bins": [
            1002,
            1020,
            1021
          ],
          "frequencies": [
            1,
            1
          ]
        },
        "max": 1020,
        "mean": 1011,
        "median": 1020,
        "min": 1002,
        "type": "numeric"
      }
    ],
    "path": "/mem/Qmd498qwmQJpcfooaJ2eSEu88Ujx3WmYSTXJDT5NEDNQsF"
  },
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/get/peer/family_relationships/at/mem/Qme4PTjzRGRXLW22ECBrocSVDfpRKXvvKYbAvjvzEdNATg/stats?page=2",
    "page": 1,
    "pageSize": 50,
    "prevUrl": ""
  }
}

/* snapshot: TestDatasetHandlers stats case 1: GET /stats/me/craigslist */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [
    {
      "currency": {
        "count": 5,
        "frequencies": {
          "USD": 5
        },
        "maxLength": 3,
        "minLength": 3
      },
      "key": "additionalProperty",
      "name": {
        "count": 5,
        "frequencies": {
          "price": 5
        },
        "maxLength": 5,
        "minLength": 5
      },
      "type": "object",
      "value": {
        "count": 5,
        "histogram": {
          "bins": [
            2095,
            2435.1,
            2775.2,
            3115.3,
            3455.4,
            3795.5,
            4135.6,
            4475.700000000001,
            4815.8,
            5155.9,
            5496
          ],
          "frequencies": [
            2,
            0,
            0,
            0,
            1,
            1,
            0,
            0,
            0,
            1
          ]
        },
        "max": 5495,
        "mean": 3506.6,
        "median": 3749,
        "min": 2095
      }
    },
    {
      "containedInPlace": {
        "name": {
          "count": 5,
          "frequencies": {
            "New York City": 5
          },
          "maxLength": 13,
          "minLength": 13
        }
      },
      "key": "containedIn",
      "name": {
        "count": 5,
        "maxLength": 31,
        "minLength": 10,
        "unique": 5
      },
      "type": "object"
    },
    {
      "count": 1,
      "key": "data",
      "maxLength": 16265,
      "minLength": 16265,
      "type": "string",
      "unique": 1
    },
    {
      "count": 5,
      "key": "name",
      "maxLength": 66,
      "minLength": 30,
      "type": "string",
      "unique": 5
    },
    {
      "count": 5,
      "key": "url",
      "maxLength": 86,
      "minLength": 78,
      "type": "string",
      "unique": 5
    }
  ],
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers stats case 1: GET /stats/peer/craigslist */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [
    {
      "currency": {
        "count": 5,
        "frequencies": {
          "USD": 5
        },
        "maxLength": 3,
        "minLength": 3,
        "unique": 1
      },
      "key": "additionalProperty",
      "name": {
        "count": 5,
        "frequencies": {
          "price": 5
        },
        "maxLength": 5,
        "minLength": 5,
        "unique": 1
      },
      "type": "object",
      "value": {
        "count": 5,
        "histogram": {
          "bins": [
            2095,
            2199,
            3749,
            3995,
            5495,
            5496
          ],
          "frequencies": [
            1,
            1,
            1,
            1,
            1
          ]
        },
        "max": 5495,
        "mean": 3506.6,
        "median": 3749,
        "min": 2095
      }
    },
    {
      "containedInPlace": {
        "name": {
          "count": 5,
          "frequencies": {
            "New York City": 5
          },
          "maxLength": 13,
          "minLength": 13,
          "unique": 1
        }
      },
      "key": "containedIn",
      "name": {
        "count": 5,
        "frequencies": {
          " (ASTORIA)": 1,
          " (Clinton Steet)": 1,
          " (Flatbush @ Newkirk Plaza B/Q)": 1,
          " (Tompkins Square Park)": 1,
          " (Upper East Side)": 1
        },
        "maxLength": 31,
        "minLength": 10,
        "unique": 5
      },
      "type": "object"
    },
    {
      "count": 1,
      "frequencies": {
        "This is a really long string that'll screw with the bytes.Scanner of a reader. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec lobortis vulputate turpis sed convallis. Cras vel lorem rhoncus, volutpat mauris quis, malesuada mi. Etiam ultrices, velit non convallis sollicitudin, tellus mauris tempus turpis, laoreet semper quam felis quis tellus. Integer quam tellus, lobortis sit amet ligula sed, hendrerit placerat ex. Curabitur eu justo vitae sem auctor elementum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Etiam efficitur magna aliquet congue feugiat.In quis ultricies tortor. Nulla eget viverra sapien, a feugiat sem. Praesent cursus ultrices magna, eu pellentesque sem pharetra ut. Nulla ut gravida nunc. Integer laoreet ex id metus laoreet imperdiet. Donec dignissim elementum lacus, quis faucibus justo tincidunt ac. Duis sit amet urna ornare, hendrerit magna quis, congue nisl.Praesent eget urna mollis, ultricies metus ultricies, pharetra sapien. Proin blandit imperdiet enim vel dapibus. Cras ornare ultrices lorem a interdum. Proin at eros porta, scelerisque nunc non, mollis nulla. Maecenas pellentesque euismod hendrerit. Donec lobortis ullamcorper massa, vitae eleifend est condimentum quis. Aliquam luctus suscipit justo, ac rhoncus lorem luctus a. Curabitur vel nibh lectus. Integer lobortis scelerisque augue at rutrum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aliquam suscipit porttitor neque quis ultricies. Donec vulputate tellus nibh, vel consectetur ex blandit nec. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Suspendisse commodo odio in tellus varius, sed congue erat ultricies.Etiam aliquam a ligula molestie maximus. In sagittis, urna at cursus malesuada, erat nunc bibendum mauris, ut elementum turpis felis eu tortor. Curabitur egestas diam et elementum pellentesque. Sed auctor pulvinar neque. Sed pellentesque tortor at dolor interdum fermentum. Morbi porttitor posuere auctor. Nam accumsan consequat magna, at venenatis nunc eleifend vitae. Ut ac scelerisque mi. Maecenas dictum tortor in erat aliquam tincidunt.Nullam iaculis nec diam vitae vehicula. Morbi lobortis urna ut nisl volutpat, nec ultricies sem gravida. Duis sed maximus tellus. Aliquam felis risus, faucibus porttitor est vel, suscipit commodo sapien. Fusce dictum velit in velit accumsan suscipit. Phasellus quis ex vitae augue viverra hendrerit. Ut vulputate risus ut tortor vulputate sagittis. Donec tincidunt libero vel neque efficitur condimentum. Mauris feugiat est vitae risus rutrum, in interdum sapien condimentum. Fusce tortor lectus, iaculis auctor bibendum eget, tempus quis justo.Quisque varius, massa vitae cursus efficitur, elit mauris molestie erat, nec tempus ipsum turpis vitae augue. Duis lacus velit, imperdiet non euismod in, venenatis in arcu. Sed pellentesque vulputate ipsum, ac fringilla est tristique eu. Praesent porttitor dignissim maximus. Quisque sodales, lectus eget imperdiet mollis, leo nibh faucibus mauris, quis scelerisque ex augue nec felis. Donec purus urna, placerat sit amet finibus ac, feugiat eget enim. Nam elementum id eros sed tincidunt.Fusce a convallis erat, ac suscipit enim. Nunc bibendum mi ornare, faucibus lorem nec, fermentum dolor. Cras ante dui, blandit et enim in, rutrum viverra mauris. Proin pretium nibh enim, et commodo ipsum condimentum consectetur. Vivamus tempor dignissim urna id tempus. Vivamus volutpat, libero vel sagittis vulputate, odio nisl vestibulum leo, eleifend molestie metus ligula id turpis. Quisque id quam gravida, feugiat sem in, cursus diam. Pellentesque quis metus sit amet ligula dignissim molestie a eu turpis. Phasellus quis rhoncus justo.Vestibulum eget velit eu libero pulvinar luctus quis ac felis. Donec ultrices ac risus efficitur eleifend. Nulla lobortis tellus hendrerit imperdiet finibus. Maecenas tincidunt volutpat sapien tristique pharetra. Vivamus efficitur ultrices semper. Vestibulum id ex enim. Sed eleifend pulvinar dui a fermentum. Curabitur tincidunt quam id tortor imperdiet pulvinar. Quisque nibh turpis, luctus non volutpat quis, hendrerit quis lectus. In facilisis mollis arcu, in ultricies arcu fringilla id. Nullam in neque tortor. Mauris ultrices felis quis consectetur imperdiet. Vestibulum eleifend eros eget hendrerit porta.Fusce suscipit nulla nec diam tempor viverra. Nullam vehicula, lectus non elementum pretium, mi ipsum mattis mauris, ac aliquet orci turpis at libero. Vestibulum imperdiet sapien eu felis consequat, sit amet porttitor enim ornare. Curabitur eu bibendum sem. Pellentesque congue ultricies hendrerit. Maecenas eget urna orci. Maecenas dignissim, dui sit amet volutpat molestie, metus enim interdum enim, eget gravida leo arcu id nisl. Aenean vitae euismod nisi. Nullam sed sapien ac metus porta tincidunt nec in tortor. Aliquam ultrices volutpat pretium. Vivamus et sagittis elit, eu vestibulum lacus. Aenean lacus enim, volutpat ac mauris et, ornare molestie ligula.Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nulla fringilla efficitur est at auctor. Etiam venenatis tempus lorem, at consectetur augue maximus in. Donec semper sem sit amet sapien congue interdum. Aenean consequat elementum sapien, porta volutpat mi hendrerit vitae. Ut sit amet maximus magna. Sed pulvinar nisl nulla, eu fermentum enim finibus in.Etiam sed luctus mauris. Vestibulum felis dui, ullamcorper non metus nec, ultricies viverra lacus. Proin quis iaculis lectus. Morbi quis nulla vel augue mattis faucibus quis sit amet arcu. Ut posuere vitae massa eu sagittis. Vivamus pellentesque orci tristique molestie luctus. Nullam et lacinia lorem. Sed vestibulum ut dui vitae tristique. Nullam eget quam ante. Pellentesque quis dolor ac mauris viverra fringilla bibendum eget odio. Cras consectetur posuere tempor. Nunc nec diam eget ante ullamcorper pellentesque nec eget libero. Vivamus pretium elit non ipsum rutrum dignissim.Suspendisse consequat, arcu a vestibulum tempus, eros sem luctus purus, ut laoreet purus nisi at nulla. Curabitur semper dui a consequat consectetur. Cras dignissim est sodales feugiat ullamcorper. Nam at convallis diam. Cras efficitur, felis vitae elementum egestas, nulla diam semper ex, at faucibus arcu neque sit amet mi. Duis justo magna, eleifend id pulvinar a, placerat at tortor. Pellentesque vitae tincidunt eros. Phasellus varius turpis id purus aliquet, id congue ipsum rutrum. Nulla ut erat ac purus interdum sollicitudin non ac felis. Maecenas egestas venenatis eros vel facilisis. In et tortor ante. Cras ullamcorper elit sit amet diam tempus vestibulum. Aliquam erat volutpat. Suspendisse quis laoreet ipsum, ut luctus augue.Vivamus quis placerat diam. Suspendisse ultricies non enim at ornare. Cras et quam vel libero ultrices congue id ut ante. Nam facilisis ipsum maximus, lacinia odio eu, semper orci. Duis ut elementum massa, non consectetur arcu. Nullam ligula mauris, viverra vehicula venenatis et, luctus quis nunc. Nam sit amet lobortis libero. Sed sed commodo velit. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Integer et magna ac metus sollicitudin posuere. Nulla pulvinar sem id nisl posuere, vitae mattis ante gravida. Nulla quis tellus pellentesque quam blandit ultrices ullamcorper quis tortor. Sed libero velit, rhoncus sed arcu vel, blandit aliquet neque. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.Donec egestas blandit tincidunt. Sed aliquam turpis quam, sed condimentum nibh sodales a. Pellentesque finibus metus sit amet mattis dignissim. Nullam euismod odio non ullamcorper imperdiet. Proin quis viverra tortor. Nullam et bibendum lectus, nec facilisis nisl. Vestibulum pellentesque auctor ipsum quis euismod. Aliquam libero nisi, feugiat quis mauris ac, tristique fermentum elit. Phasellus velit lectus, rhoncus ac augue sed, tincidunt ornare purus. Nulla faucibus odio leo, sed tincidunt felis tempor a. Proin magna lacus, dictum at mattis vel, mattis a nisl. Aliquam dolor felis, pharetra at lacinia venenatis, ullamcorper vel nisi. Mauris blandit ligula hendrerit laoreet blandit.Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam at dolor sit amet ex blandit congue. Suspendisse congue felis a sapien fermentum, a accumsan purus fringilla. Donec vitae elit ac enim sodales feugiat. Mauris luctus gravida ante, et sagittis lacus condimentum rhoncus. Proin ullamcorper velit eu mi malesuada varius. Phasellus sit amet pretium est, sit amet placerat nunc. Vivamus eget interdum lacus, rhoncus porta tellus. Nam vulputate sapien at dui suscipit, in fringilla enim cursus. Sed malesuada nec tortor eget accumsan. Sed pellentesque ac massa at rutrum. Duis elementum lacus quis ante varius consectetur. Sed iaculis nisi urna, a ultricies nisl suscipit non.Vivamus nulla nulla, venenatis sed dictum eget, lacinia non turpis. Proin eu vehicula eros, vel cursus tortor. Ut commodo convallis velit, vitae scelerisque est condimentum sodales. Aliquam convallis massa in libero euismod, vitae euismod mauris tempor. Duis elit mi, ornare quis purus pretium, aliquet sagittis sem. Morbi dapibus, felis sit amet faucibus facilisis, nisl nisi malesuada eros, a dignissim lorem neque non dolor. Sed lectus est, ultrices in placerat id, ullamcorper at augue. Nam sem erat, blandit et arcu a, posuere lobortis tellus.Nam non augue luctus, vulputate nisl eu, ornare turpis. Curabitur vehicula est vitae urna vestibulum pretium. Proin mollis, nulla et pretium euismod, arcu quam molestie nunc, in facilisis dolor nunc eu mauris. Nunc vulputate urna eu mi pulvinar consequat. Suspendisse tristique vel turpis eget molestie. Duis lorem ante, luctus in pellentesque a, volutpat quis dolor. Praesent ornare massa eros, eget porttitor ante consequat vitae. Aliquam molestie massa id libero blandit, a tincidunt lacus iaculis. Aenean id lacus et tellus viverra tempus. Donec sit amet efficitur diam. Mauris condimentum neque sed augue feugiat, a facilisis nisi convallis. Phasellus a arcu consequat, ullamcorper nisl vel, pretium tellus. Sed venenatis pretium turpis id semper. In gravida nunc rhoncus interdum elementum. Quisque quis orci orci. Cras suscipit efficitur nisl nec congue.Donec mollis, mi eget semper feugiat, magna neque pulvinar libero, in dictum tellus enim ut enim. Proin vel ex eleifend, porttitor risus sit amet, pellentesque mauris. Cras at mi et neque pellentesque cursus a at justo. Vestibulum tristique egestas lacus vel scelerisque. Phasellus vehicula pretium lorem, quis imperdiet ipsum interdum eget. Aliquam non purus pharetra, elementum eros eu, vestibulum erat. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Suspendisse ut risus in velit pellentesque sagittis ut non lacus. In porta ut nisl at mattis. Cras odio libero, hendrerit quis massa a, ultrices vestibulum nunc. Suspendisse volutpat, mauris nec iaculis cursus, odio mi laoreet arcu, eu feugiat urna augue non est. Duis tincidunt est sem, id sollicitudin enim fermentum quis.Nullam porta libero lacus, elementum ullamcorper lacus feugiat ac. Duis pulvinar, velit quis elementum dignissim, lorem neque tincidunt est, quis ultricies felis velit sit amet quam. In nec purus in quam vulputate venenatis eu quis velit. Morbi convallis tellus in nulla euismod semper. Aenean feugiat pharetra rhoncus. Nulla convallis efficitur convallis. Pellentesque finibus vehicula lectus vitae fermentum. Cras et egestas sapien, at vulputate magna. In tempus risus vitae tincidunt finibus. Integer non est eget nunc rutrum accumsan. Donec gravida, est sit amet pretium facilisis, lorem est dignissim diam, vel pretium lectus nisi ut arcu. Maecenas odio leo, fermentum eu turpis a, fermentum pulvinar magna. Praesent suscipit nibh mauris, dapibus suscipit libero maximus sed. Donec hendrerit a quam sed cursus. Aenean rhoncus nec ipsum nec pellentesque.Etiam blandit molestie purus, sed ultricies tortor malesuada a. Pellentesque eu porta purus, non consequat leo. Morbi ultricies fermentum mi a tincidunt. Praesent sodales metus quis elit feugiat faucibus. Etiam feugiat nulla in massa posuere, a molestie orci tincidunt. Cras venenatis tincidunt sodales. Quisque laoreet neque vitae sagittis convallis. Aliquam dictum mauris vitae lacus viverra sollicitudin.Morbi pretium vestibulum gravida. Sed leo arcu, volutpat vestibulum finibus vel, consectetur sit amet nisl. Maecenas a fermentum metus, et dignissim justo. Nullam quis metus ut sapien vulputate blandit. Aenean euismod mattis est. Fusce augue lectus, faucibus non velit at, lacinia commodo massa. Proin posuere, tellus eget malesuada faucibus, lectus nunc auctor sapien, et fermentum erat elit at leo. Vestibulum pellentesque rutrum tempor. Pellentesque scelerisque tortor ac dapibus cursus. Fusce aliquet ex in dictum laoreet. Proin porta consequat erat nec consequat. Maecenas posuere elit eget lacus pharetra, non facilisis velit dictum. Sed ornare mattis fringilla.Vestibulum pellentesque, odio a suscipit dictum, elit orci ultrices mi, rutrum porta nulla mi eget libero. Aliquam est lacus, sagittis eu ultrices sed, ullamcorper id lectus. Sed dignissim et velit ut fringilla. Nulla aliquet, nunc quis faucibus mollis, mauris diam finibus turpis, eget fermentum nibh elit quis lorem. Pellentesque aliquam pharetra erat sit amet consectetur. Vivamus et velit quis purus ullamcorper cursus quis at nisi. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Morbi mauris justo, porttitor vitae leo vel, rhoncus elementum arcu. Donec aliquam enim sollicitudin libero posuere vestibulum. Sed mi tortor, molestie sed auctor vitae, faucibus id ipsum. Aliquam erat volutpat. Praesent non diam est. Etiam vehicula dui eu eros commodo, ut porta magna tempus. Morbi dapibus faucibus suscipit. Aenean eget accumsan magna. Etiam ut neque auctor, mollis nunc nec, sagittis diam.Integer et urna vulputate, eleifend lectus sed, placerat magna. Sed ornare libero et lectus varius, vehicula euismod sapien hendrerit. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Sed quis tempus sapien. Ut quis gravida sapien, quis varius leo. Duis malesuada purus id magna sollicitudin interdum. Vestibulum tempor eros eget bibendum luctus. Nulla nec efficitur ligula. Nullam ipsum dui, rutrum eu ligula ac, dictum porta arcu. Quisque ut enim porta, posuere turpis quis, elementum felis. Sed eget massa mauris. Phasellus luctus est eget lacinia mattis. Integer eget neque felis. Interdum et malesuada fames ac ante ipsum primis in faucibus. Aliquam congue congue leo, eu bibendum mi ornare et.Sed quis tempus urna. Etiam sodales mauris id risus ornare rhoncus. Aenean sed egestas nisl. Ut at commodo tortor. Vestibulum feugiat nunc leo, eget tempus odio vehicula et. Donec feugiat leo risus, ac ultricies ex bibendum nec. In hac habitasse platea dictumst. Duis malesuada sem vitae felis accumsan, at dignissim risus eleifend. Donec accumsan quam non bibendum finibus. Nulla euismod tellus eu lectus eleifend bibendum. Morbi at libero orci. Phasellus arcu enim, hendrerit laoreet ullamcorper sed, interdum non turpis. Suspendisse cursus nibh vitae odio mattis tempor. Donec at tincidunt tellus. Etiam at velit pellentesque, ornare mi blandit, elementum nunc.Maecenas egestas volutpat mi, in dictum augue mollis nec. Aenean massa mi, porta at laoreet vel, viverra ac erat. Fusce dictum sodales libero at dapibus. Praesent id magna vel dui molestie porttitor. In sed orci a felis iaculis congue sed consectetur elit. Nulla efficitur diam eu lacus vehicula, et tempor ex venenatis. Integer eleifend tellus ac orci venenatis auctor. Aenean neque dui, ultricies at commodo et, convallis eget metus. Mauris at felis consequat, sollicitudin velit eu, ultricies sapien. Vestibulum eget volutpat nulla, non sodales est. Etiam dignissim est vel metus mollis facilisis. Donec at mollis urna, quis venenatis neque. Nullam aliquam, nisl et porta elementum, ante neque condimentum mauris, eu volutpat ante lorem vitae orci. Suspendisse vel suscipit est, ut aliquet urna.": 1
      },
      "key": "data",
      "maxLength": 16265,
      "minLength": 16265,
      "type": "string",
      "unique": 1
    },
    {
      "count": 5,
      "frequencies": {
        "Gorgeous 3 Bedroom in Prime Area! Amazing Deal! | No Fee": 1,
        "NO BROKER FEE 1BEDROOM DISHWASHER LAUNDRY ALOT OF CLOSETS NW TRAIN": 1,
        "NO FEE***PETS OK*** NICE VIEWS": 1,
        "Sunny // Two Baths // large apartment!": 1,
        "w/ Large outdoor space. For April 1st!": 1
      },
      "key": "name",
      "maxLength": 66,
      "minLength": 30,
      "type": "string",
      "unique": 5
    },
    {
      "count": 5,
      "frequencies": {
        "https://newyork.craigslist.org/brk/nfb/d/gorgeous-3-bedroom-in-prime/6498995602.html": 1,
        "https://newyork.craigslist.org/mnh/nfb/d/large-outdoor-space-for-april/6498985027.html": 1,
        "https://newyork.craigslist.org/mnh/nfb/d/no-feepets-ok-nice-views/6498982168.html": 1,
        "https://newyork.craigslist.org/mnh/nfb/d/sunny-two-baths-large/6498982528.html": 1,
        "https://newyork.craigslist.org/que/nfb/d/no-broker-fee-1bedroom/6498981871.html": 1
      },
      "key": "url",
      "maxLength": 86,
      "minLength": 78,
      "type": "string",
      "unique": 5
    }
  ],
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers stats case 1: GET /stats/peer/family_relationships/at/map/Qme7LVBp6hfi4Y5N29CXeXjpAqgT3fWtAmQWtZgjpQAZph */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "\"peer/family_relationships@/map/Qme7LVBp6hfi4Y5N29CXeXjpAqgT3fWtAmQWtZgjpQAZph\" is not a valid dataset reference: invalid network"
  }
}

/* snapshot: TestDatasetHandlers stats case 2: GET /stats/me/family_relationships/at/map/Qme7LVBp6hfi4Y5N29CXeXjpAqgT3fWtAmQWtZgjpQAZph */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "error loading dataset: error getting file bytes: cafs: path not found"
  }
}

/* snapshot: TestDatasetHandlers stats case 2: GET /stats/peer/family_relationships/at/map/Qme7LVBp6hfi4Y5N29CXeXjpAqgT3fWtAmQWtZgjpQAZph */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "error loading dataset: error getting file bytes: cafs: path not found"
  }
}

/* snapshot: TestDatasetHandlers unpack case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestDatasetHandlers unpack case 0: POST /unpack/ */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "body.csv": "movie\nup\nthe incredibles",
    "dataset.json": "{\n  \"bodyPath\": \"/map/QmNnZwijPYyXZJsxxa8aKJhfP16yEA1MdUJ8dnwwcrap9F\",\n  \"qri\": \"ds:0\",\n  \"structure\": {\n    \"errCount\": 0,\n    \"format\": \"csv\",\n    \"qri\": \"st:0\",\n    \"schema\": {\n      \"items\": {\n        \"items\": [\n          {\n            \"title\": \"movie\",\n            \"type\": \"string\"\n          }\n        ],\n        \"type\": \"array\"\n      },\n      \"type\": \"array\"\n    }\n  },\n  \"transform\": {\n    \"qri\": \"tf:0\",\n    \"scriptPath\": \"/map/QmRowsQ7EQywnBkkZk5K6N5UjG9cAgzam2sHXFeYgHEofH\"\n  },\n  \"viz\": {\n    \"qri\": \"vz:0\",\n    \"scriptPath\": \"/map/QmaDHYHvAii9jZYhvE6cboTvA4vtsJKbzDfqyn4AcXSd5p\"\n  }\n}",
    "ref.txt": "testref",
    "transform.sky": "def transform(ds):\nreturn ds\n",
    "viz.html": "\u003chtml\u003e\u003c/html\u003e\n"
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers unpack case 1: POST /unpack/ */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "body.csv": "movie\nup\nthe incredibles",
    "dataset.json": "{\n  \"bodyPath\": \"/map/QmNnZwijPYyXZJsxxa8aKJhfP16yEA1MdUJ8dnwwcrap9F\",\n  \"qri\": \"ds:0\",\n  \"structure\": {\n    \"errCount\": 0,\n    \"format\": \"csv\",\n    \"qri\": \"st:0\",\n    \"schema\": {\n      \"items\": {\n        \"items\": [\n          {\n            \"title\": \"movie\",\n            \"type\": \"string\"\n          }\n        ],\n        \"type\": \"array\"\n      },\n      \"type\": \"array\"\n    }\n  },\n  \"transform\": {\n    \"qri\": \"tf:0\",\n    \"scriptPath\": \"/map/QmRowsQ7EQywnBkkZk5K6N5UjG9cAgzam2sHXFeYgHEofH\"\n  },\n  \"viz\": {\n    \"qri\": \"vz:0\",\n    \"scriptPath\": \"/map/QmaDHYHvAii9jZYhvE6cboTvA4vtsJKbzDfqyn4AcXSd5p\"\n  }\n}",
    "ref.txt": "testref",
    "transform.sky": "def transform(ds):\nreturn ds\n",
    "viz.html": "\u003chtml\u003e\u003c/html\u003e\n"
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestDatasetHandlers update case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestDatasetHandlers update case 1: GET / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestDatasetHandlers update case 1: POST /update/me/cities */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "parsing secrets: invalid character 'b' looking for beginning of value"
  }
}

/* snapshot: TestDatasetHandlers update case 2: POST /update/me/cities */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "parsing secrets: invalid character 'b' looking for beginning of value"
  }
}

/* snapshot: TestDatasetHandlers update case 3: POST /update/me/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestFSIHandlers checkout case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestFSIHandlers checkout case 0: POST /me/movies */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "need Dir to be a non-empty, absolute path"
  }
}

/* snapshot: TestFSIHandlers checkout case 1: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestFSIHandlers checkout case 1: POST / */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "repo: empty dataset reference"
  }
}

/* snapshot: TestFSIHandlers checkout case 1: POST /me/movies */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "need Dir to be a non-empty, absolute path"
  }
}

/* snapshot: TestFSIHandlers checkout case 2: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestFSIHandlers checkout case 2: POST /me/movies?dir=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/api_fsi_handlers683459982/family_relationships */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": "",
  "meta": {
    "code": 200
  }
}

/* snapshot: TestFSIHandlers checkout case 2: POST /me/movies?dir=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/api_fsi_handlers918381082/family_relationships */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": "",
  "meta": {
    "code": 200
  }
}

/* snapshot: TestFSIHandlers checkout case 2: POST /me/movies?dir=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/fsi_tests/checkout_dir/family_relationships */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "mkdir /var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/fsi_tests/checkout_dir/family_relationships: no such file or directory"
  }
}

/* snapshot: TestFSIHandlers checkout case 2: POST /me/movies?dir=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/fsi_tests/family_relationships */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "mkdir /var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/fsi_tests/family_relationships: no such file or directory"
  }
}

/* snapshot: TestFSIHandlers checkout case 2: POST /me/movies?dir=fsi_tests/family_relationships */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": "",
  "meta": {
    "code": 200
  }
}

/* snapshot: TestFSIHandlers checkout case 3: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestFSIHandlers init case 0: GET / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestFSIHandlers init case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestFSIHandlers init case 1: GET / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestFSIHandlers init case 1: POST / */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "dataset name must start with a lower-case letter, and only contain lower-case letters, numbers, dashes, and underscore. Maximum length is 144 characters"
  }
}

/* snapshot: TestFSIHandlers init case 2: POST / */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "dataset name must start with a lower-case letter, and only contain lower-case letters, numbers, dashes, and underscore. Maximum length is 144 characters"
  }
}

/* snapshot: TestFSIHandlers init case 2: POST /?filepath=fsi_tests/init_dir */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "dataset name must start with a lower-case letter, and only contain lower-case letters, numbers, dashes, and underscore. Maximum length is 144 characters"
  }
}

/* snapshot: TestFSIHandlers init case 3: POST /?filepath=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/api_fsi_handlers395144235 */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "invalid format \"\", only \"csv\" and \"json\" accepted"
  }
}

/* snapshot: TestFSIHandlers init case 3: POST /?filepath=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/api_fsi_handlers738863491 */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "invalid format \"\", only \"csv\" and \"json\" accepted"
  }
}

/* snapshot: TestFSIHandlers init case 3: POST /?filepath=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/api_fsi_handlers837864935 */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "invalid format \"\", only \"csv\" and \"json\" accepted"
  }
}

/* snapshot: TestFSIHandlers init case 3: POST /?filepath=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/fsi_tests/init_dir */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "stat /var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/fsi_tests/init_dir: no such file or directory"
  }
}

/* snapshot: TestFSIHandlers init case 3: POST /?filepath=fsi_tests/init_dir */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "dataset name must start with a lower-case letter, and only contain lower-case letters, numbers, dashes, and underscore. Maximum length is 144 characters"
  }
}

/* snapshot: TestFSIHandlers init case 3: POST /?filepath=fsi_tests/init_dir&name=api_test_init_dataset */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "directory is required to initialize a dataset"
  }
}

/* snapshot: TestFSIHandlers init case 4: POST /?filepath=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/api_fsi_handlers395144235&name=api_test_init_dataset */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "invalid format \"\", only \"csv\" and \"json\" accepted"
  }
}

/* snapshot: TestFSIHandlers init case 4: POST /?filepath=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/api_fsi_handlers738863491&name=api_test_init_dataset */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "invalid format \"\", only \"csv\" and \"json\" accepted"
  }
}

/* snapshot: TestFSIHandlers init case 4: POST /?filepath=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/api_fsi_handlers837864935&name=api_test_init_dataset */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "invalid format \"\", only \"csv\" and \"json\" accepted"
  }
}

/* snapshot: TestFSIHandlers init case 4: POST /?filepath=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/fsi_tests/init_dir&name=api_test_init_dataset */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "stat /var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/fsi_tests/init_dir: no such file or directory"
  }
}

/* snapshot: TestFSIHandlers init case 4: POST /?filepath=fsi_tests/init_dir&name=api_test_init_dataset */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "invalid format \"\", only \"csv\" and \"json\" accepted"
  }
}

/* snapshot: TestFSIHandlers init case 5: POST /?filepath=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/api_fsi_handlers395144235&name=api_test_init_dataset&format=csv */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "ref": "peer/api_test_init_dataset"
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestFSIHandlers init case 5: POST /?filepath=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/api_fsi_handlers738863491&name=api_test_init_dataset&format=csv */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "ref": "peer/api_test_init_dataset"
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestFSIHandlers init case 5: POST /?filepath=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/api_fsi_handlers837864935&name=api_test_init_dataset&format=csv */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "ref": "peer/api_test_init_dataset"
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestFSIHandlers init case 5: POST /?filepath=/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/fsi_tests/init_dir&name=api_test_init_dataset&format=csv */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "stat /var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/fsi_tests/init_dir: no such file or directory"
  }
}

/* snapshot: TestFSIHandlers init case 5: POST /?filepath=fsi_tests/init_dir&name=api_test_init_dataset&format=csv */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "dataset": {
      "bodyPath": "fsi_tests/init_dir/body.csv",
      "meta": {
        "keywords": [],
        "qri": "md:0"
      },
      "name": "api_test_init_dataset",
      "peername": "peer",
      "qri": "ds:0",
      "structure": {
        "format": "csv",
        "formatConfig": {
          "headerRow": false,
          "lazyQuotes": false,
          "variadicFields": false
        },
        "qri": "st:0",
        "schema": {
          "items": {
            "items": [
              {
                "title": "field_1",
                "type": "boolean"
              },
              {
                "title": "field_2",
                "type": "boolean"
              },
              {
                "title": "field_3",
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "type": "array"
        }
      }
    },
    "fsiPath": "fsi_tests/init_dir",
    "name": "api_test_init_dataset",
    "peername": "peer",
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestFSIHandlers init case 6: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestFSIHandlers showcommit case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestFSIHandlers showcommit case 1: GET /me/movies */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [
    {
      "component": "meta",
      "message": "",
      "mtime": "0001-01-01T00:00:00Z",
      "sourceFile": "meta",
      "type": "add"
    },
    {
      "component": "structure",
      "message": "",
      "mtime": "0001-01-01T00:00:00Z",
      "sourceFile": "structure",
      "type": "add"
    },
    {
      "component": "body",
      "message": "",
      "mtime": "0001-01-01T00:00:00Z",
      "sourceFile": "body",
      "type": "add"
    }
  ],
  "meta": {
    "code": 200
  }
}

/* snapshot: TestFSIHandlers showcommit case 2: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestFSIHandlers status case 0: GET /me/movies */
HTTP/1.1 404 Not Found
Connection: close

{
  "meta": {
    "code": 404,
    "error": "repo: not found"
  }
}

/* snapshot: TestFSIHandlers status case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestFSIHandlers status case 1: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestFSIHandlers status case 1: GET /me/api_test_init_dataset */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [
    {
      "component": "meta",
      "message": "",
      "sourceFile": "/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/api_fsi_handlers395144235/meta.json",
      "type": "add"
    },
    {
      "component": "schema",
      "message": "",
      "sourceFile": "/var/folders/6p/sjn8bct92397mbgwmwwvcb4h0000gn/T/api_fsi_handlers395144235/schema.json",
      "type": "add"
    },
    {
      "component": "body",
      "message": "",
      "sourceFile": "body.csv",
      "type": "add"
    }
  ],
  "meta": {
    "code": 200
  }
}

/* snapshot: TestFSIHandlers status case 1: GET /me/movies */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "error getting status: repo: not found"
  }
}

/* snapshot: TestFSIHandlers status case 2: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestFSIHandlers whatchanged case 0: GET /me/movies */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "\"\" is not a valid dataset reference: empty reference"
  }
}

/* snapshot: TestFSIHandlers whatchanged case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestFSIHandlers whatchanged case 1: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestFSIHandlers whatchanged case 1: GET /me/movies */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [
    {
      "component": "meta",
      "message": "",
      "mtime": "0001-01-01T00:00:00Z",
      "sourceFile": "meta",
      "type": "add"
    },
    {
      "component": "structure",
      "message": "",
      "mtime": "0001-01-01T00:00:00Z",
      "sourceFile": "structure",
      "type": "add"
    },
    {
      "component": "body",
      "message": "",
      "mtime": "0001-01-01T00:00:00Z",
      "sourceFile": "body",
      "type": "add"
    }
  ],
  "meta": {
    "code": 200
  }
}

/* snapshot: TestFSIHandlers whatchanged case 2: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestHealthCheck health check case 0: GET / */
HTTP/1.1 200 OK
Connection: close

{ "meta": { "code": 200, "status": "ok", "version":"test_version" }, "data": [] }

/* snapshot: TestHealthCheck health check case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

{ "meta": { "code": 200, "status": "ok", "version":"test_version" }, "data": [] }

/* snapshot: TestHealthCheck health check case 1: GET / */
HTTP/1.1 200 OK
Connection: close

{ "meta": { "code": 200, "status": "ok", "version":"test_version" }, "data": [] }

/* snapshot: TestHistoryHandlers log case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestHistoryHandlers log case 1: GET /history/me/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [
    {
      "bodySize": 155,
      "commitMessage": "meta:\n\tupdated title",
      "commitTime": "2000-12-31T20:01:01.000000001-05:00",
      "commitTitle": "meta updated title",
      "name": "cities",
      "path": "/map/QmcKmPBjgp5SDe3aFjpkWR1CcYaHedvs5KwG65c8dCRXyy",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "username": "peer"
    },
    {
      "bodySize": 155,
      "commitMessage": "created dataset",
      "commitTime": "2000-12-31T20:01:01.000000001-05:00",
      "commitTitle": "initial commit",
      "name": "cities",
      "path": "/map/QmfRUKSPd2hR8w7RLkLb7ihhsAmcFCMuwnXHtKp5fMfgwv",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "username": "peer"
    }
  ],
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/history/me/cities?page=2"
  }
}

/* snapshot: TestHistoryHandlers log case 2: GET /history/me/cities/at/map/QmZrmGvTPMCkJYfqaagFZBUWuX5bkqSXu179eNnFfhCKze */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [
    {
      "bodySize": 155,
      "commitMessage": "meta:\n\tupdated title",
      "commitTime": "2000-12-31T20:01:01.000000001-05:00",
      "commitTitle": "meta updated title",
      "name": "cities",
      "path": "/map/QmcKmPBjgp5SDe3aFjpkWR1CcYaHedvs5KwG65c8dCRXyy",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "username": "peer"
    },
    {
      "bodySize": 155,
      "commitMessage": "created dataset",
      "commitTime": "2000-12-31T20:01:01.000000001-05:00",
      "commitTitle": "initial commit",
      "name": "cities",
      "path": "/map/QmfRUKSPd2hR8w7RLkLb7ihhsAmcFCMuwnXHtKp5fMfgwv",
      "profileID": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
      "username": "peer"
    }
  ],
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/history/me/cities/at/map/QmZrmGvTPMCkJYfqaagFZBUWuX5bkqSXu179eNnFfhCKze?page=2"
  }
}

/* snapshot: TestHistoryHandlers log case 3: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestHistoryHandlers log case 3: GET /history/at/map/QmZrmGvTPMCkJYfqaagFZBUWuX5bkqSXu179eNnFfhCKze */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "repo: not found"
  }
}

/* snapshot: TestHistoryHandlers log case 4: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestPeerHandlers connections case 0: GET / */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [],
  "meta": {
    "code": 200
  }
}

/* snapshot: TestPeerHandlers connections case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestPeerHandlers connections case 1: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestPeerHandlers connections case 1: GET / */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [],
  "meta": {
    "code": 200
  }
}

/* snapshot: TestPeerHandlers connections case 2: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestProfileHandler mime read case 0: GET / */
HTTP/1.1 403 Forbidden
Connection: close

{
  "meta": {
    "code": 403,
    "error": "qri server is in read-only mode, access to '/profile' or '/me' endpoint is forbidden"
  }
}

/* snapshot: TestProfileHandler profile case 0: GET / */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "color": "",
    "created": "0001-01-01T00:00:00Z",
    "description": "",
    "email": "",
    "homeurl": "",
    "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
    "name": "",
    "online": true,
    "peername": "peer",
    "photo": "",
    "poster": "",
    "privkey": "CAASpgkwggSiAgEAAoIBAQC/7Q7fILQ8hc9g07a4HAiDKE4FahzL2eO8OlB1K99Ad4L1zc2dCg+gDVuGwdbOC29IngMA7O3UXijycckOSChgFyW3PafXoBF8Zg9MRBDIBo0lXRhW4TrVytm4Etzp4pQMyTeRYyWR8e2hGXeHArXM1R/A/SjzZUbjJYHhgvEE4OZy7WpcYcW6K3qqBGOU5GDMPuCcJWac2NgXzw6JeNsZuTimfVCJHupqG/dLPMnBOypR22dO7yJIaQ3d0PFLxiDG84X9YupF914RzJlopfdcuipI+6gFAgBw3vi6gbECEzcohjKf/4nqBOEvCDD6SXfl5F/MxoHurbGBYB2CJp+FAgMBAAECggEAaVOxe6Y5A5XzrxHBDtzjlwcBels3nm/fWScvjH4dMQXlavwcwPgKhy2NczDhr4X69oEw6Msd4hQiqJrlWd8juUg6vIsrl1wS/JAOCS65fuyJfV3Pw64rWbTPMwO3FOvxj+rFghZFQgjg/i45uHA2UUkM+h504M5Nzs6Arr/rgV7uPGR5e5OBw3lfiS9ZaA7QZiOq7sMy1L0qD49YO1ojqWu3b7UaMaBQx1Dty7b5IVOSYG+Y3U/dLjhTj4Hg1VtCHWRm3nMOE9cVpMJRhRzKhkq6gnZmni8obz2BBDF02X34oQLcHC/Wn8F3E8RiBjZDI66g+iZeCCUXvYz0vxWAQQKBgQDEJu6flyHPvyBPAC4EOxZAw0zh6SF/r8VgjbKO3n/8d+kZJeVmYnbsLodIEEyXQnr35o2CLqhCvR2kstsRSfRz79nMIt6aPWuwYkXNHQGE8rnCxxyJmxV4S63GczLk7SIn4KmqPlCI08AU0TXJS3zwh7O6e6kBljjPt1mnMgvr3QKBgQD6fAkdI0FRZSXwzygx4uSg47Co6X6ESZ9FDf6ph63lvSK5/eue/ugX6p/olMYq5CHXbLpgM4EJYdRfrH6pwqtBwUJhlh1xI6C48nonnw+oh8YPlFCDLxNG4tq6JVo071qH6CFXCIank3ThZeW5a3ZSe5pBZ8h4bUZ9H8pJL4C7yQKBgFb8SN/+/qCJSoOeOcnohhLMSSD56MAeK7KIxAF1jF5isr1TP+rqiYBtldKQX9bIRY3/8QslM7r88NNj+aAuIrjzSausXvkZedMrkXbHgS/7EAPflrkzTA8fyH10AsLgoj/68mKr5bz34nuY13hgAJUOKNbvFeC9RI5g6eIqYH0FAoGAVqFTXZp12rrK1nAvDKHWRLa6wJCQyxvTU8S1UNi2EgDJ492oAgNTLgJdb8kUiH0CH0lhZCgr9py5IKW94OSM6l72oF2UrS6PRafHC7D9b2IV5Al9lwFO/3MyBrMocapeeyaTcVBnkclz4Qim3OwHrhtFjF1ifhP9DwVRpuIg+dECgYANwlHxLe//tr6BM31PUUrOxP5Y/cj+ydxqM/z6papZFkK6Mvi/vMQQNQkh95GH9zqyC5Z/yLxur4ry1eNYty/9FnuZRAkEmlUSZ/DobhU0Pmj8Hep6JsTuMutref6vCk2n02jc9qYmJuD7iXkdXDSawbEG6f5C4MUkJ38z1t1OjA==",
    "thumb": "",
    "twitter": "",
    "type": "peer",
    "updated": "0001-01-01T00:00:00Z"
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestProfileHandler profile case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestProfileHandler profile case 1: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestProfileHandler profile case 1: GET / */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "color": "",
    "created": "0001-01-01T00:00:00Z",
    "description": "",
    "email": "",
    "homeurl": "",
    "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
    "name": "",
    "online": true,
    "peername": "peer",
    "photo": "",
    "poster": "",
    "thumb": "",
    "twitter": "",
    "type": "peer",
    "updated": "0001-01-01T00:00:00Z"
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestProfileHandler profile case 1: POST / */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "color": "default",
    "created": "0001-01-01T00:00:00Z",
    "description": "test description",
    "email": "test@email.com",
    "homeurl": "http://test.url",
    "id": "QmZePf5LeXow3RW5U1AgEiNbW46YnRGhZ7HPvm1UmPFPwt",
    "name": "test name",
    "online": true,
    "peername": "peer",
    "photo": "",
    "poster": "",
    "thumb": "",
    "twitter": "test",
    "type": "peer",
    "updated": "0001-01-01T00:00:00Z"
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestProfileHandler profile case 2: POST / */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "error decoding request body: EOF"
  }
}

/* snapshot: TestProfileHandler profile case 3: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestProfileHandler profile case 3: POST / */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "error decoding request body: EOF"
  }
}

/* snapshot: TestProfileHandler profile case 4: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestProfileHandler read-only case 0: GET / */
HTTP/1.1 403 Forbidden
Connection: close

{
  "meta": {
    "code": 403,
    "error": "qri server is in read-only mode, access to '/profile' or '/me' endpoint is forbidden"
  }
}

/* snapshot: TestRegistryHandlers registry case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestRegistryHandlers registry case 1: POST /registry/me/counter */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": "published dataset me/counter",
  "meta": {
    "code": 200
  }
}

/* snapshot: TestRegistryHandlers registry case 2: DELETE /registry/me/counter */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": "unpublished dataset me/counter",
  "meta": {
    "code": 200
  }
}

/* snapshot: TestRegistryHandlers registry case 3: PATCH / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestRegistryHandlers registryDatasets case 0: GET /registry/datasets */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": null,
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/registry/datasets?page=2"
  }
}

/* snapshot: TestRegistryHandlers registryList case 0: GET /registry/list */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": null,
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/registry/list"
  }
}

/* snapshot: TestRemoteClientHandlers fetch case 0: GET /fetch/ */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "repo: empty dataset reference"
  }
}

/* snapshot: TestRemoteClientHandlers fetch case 1: GET /fetch/me/cities */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "decoding public key: proto: required field \"Type\" not set"
  }
}

/* snapshot: TestRemoteClientHandlers publish case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestRemoteClientHandlers publish case 1: GET /publish/ */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [],
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/publish/?page=2"
  }
}

/* snapshot: TestRemoteClientHandlers publish case 2: POST /publish/me/cities */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "selected encoding not supported"
  }
}

/* snapshot: TestRemoteClientHandlers publish case 3: DELETE /publish/me/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": "ok",
  "meta": {
    "code": 200
  }
}

/* snapshot: TestRemoteClientHandlers publish case 4: GET /fetch/ */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [],
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/fetch/?page=2"
  }
}

/* snapshot: TestRemoteClientHandlers publish case 5: GET /fetch/me/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [],
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/fetch/me/cities?page=2"
  }
}

/* snapshot: TestRemoteHandlers remote accept case 0: POST / */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "need to restore RemoteMethods.Receive"
  }
}

/* snapshot: TestRemoteHandlers remote case 0: POST / */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": "accepted",
  "meta": {
    "code": 200
  }
}

/* snapshot: TestRemoteHandlers remote reject case 0: POST / */
HTTP/1.1 500 Internal Server Error
Connection: close

{
  "meta": {
    "code": 500,
    "error": "need to restore RemoteMethods.Receive"
  }
}

/* snapshot: TestRenderHandler render case 0: GET /render/me/movies?viz=true */
HTTP/1.1 200 OK
Connection: close
Content-Type: text/html; charset=utf-8

<!DOCTYPE html>
<html>
<head>
  <title>example movie data</title>
  <style type="text/css">
  html, body, .viewport { height: 100%; width: 100%; margin: 0; font-family: "avenir next", "avenir", sans-serif; font-size: 16px; }
  body { display: flex; flex-direction: column; }
  header { width: 100%; background: #0061A6; color: white; padding: 80px 0 40px 0; }
  section { min-height: 450px; }
  footer { width: 100%; background: #EBEBEB; padding: 40px 0 20px 0; margin-top: 40px; }
  header, section, footer { width: 100%; flex: 1; }
  label { display: block; font-weight: normal; color: #999; text-transform: uppercase; font-size: 14px; }
  .content { margin: 0 auto; max-width: 600px; }
  .stat { font-weight: bold; }
  .ref { margin-top: 5px; }}
  .path { color: #bebebe; }
</style>
</head>
<body class="viewport">
  <header>
  <div class="content">
    <label style="color: white">Dataset</label>
    <h4 class="ref">peer/movies</h4>
    <h1>example movie data</h1>
  </div>
</header>
  <section class="content">
  <p></p>
  
  
  <p class="stat"><label>data format:</label>csv</p>
  <p class="stat"><label>entry count:</label>2335</p>
  <p class="stat"><label>errors:</label>4</p>
  
</section>
  <footer>
  <div class="content">
    <p class="stat"><label>commit title:</label>initial commit</p>
    <small>2001-01-01T01:01:01.000000001Z</small><br />
    <small class="path">/mem/QmQPS7Nf6dG8zosyAA8zYd64gaLBTAzYsVhMkaMCgCXJST</small><br />
    
  </div>
</footer>
</body>
</html>

/* snapshot: TestRenderHandler render case 0: OPTIONS /render */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestRenderHandler render case 1: GET /render/me/movies */
HTTP/1.1 200 OK
Connection: close
Content-Type: text/html; charset=utf-8

<!DOCTYPE html>
<html>
<head>
  <title>example movie data</title>
  <style type="text/css">
  html, body, .viewport { height: 100%; width: 100%; margin: 0; font-family: "avenir next", "avenir", sans-serif; font-size: 16px; }
  body { display: flex; flex-direction: column; }
  header { width: 100%; background: #0061A6; color: white; padding: 80px 0 40px 0; }
  section { min-height: 450px; }
  footer { width: 100%; background: #EBEBEB; padding: 40px 0 20px 0; margin-top: 40px; }
  header, section, footer { width: 100%; flex: 1; }
  label { display: block; font-weight: normal; color: #999; text-transform: uppercase; font-size: 14px; }
  .content { margin: 0 auto; max-width: 600px; }
  .stat { font-weight: bold; }
  .ref { margin-top: 5px; }}
  .path { color: #bebebe; }
</style>
</head>
<body class="viewport">
  <header>
  <div class="content">
    <label style="color: white">Dataset</label>
    <h4 class="ref">peer/movies</h4>
    <h1>example movie data</h1>
  </div>
</header>
  <section class="content">
  <p></p>
  
  
  <p class="stat"><label>data format:</label>csv</p>
  <p class="stat"><label>entry count:</label>2335</p>
  <p class="stat"><label>errors:</label>4</p>
  
</section>
  <footer>
  <div class="content">
    <p class="stat"><label>commit title:</label>initial commit</p>
    <small>2001-01-01T01:01:01.000000001Z</small><br />
    <small class="path">/map/QmcnKQTWNuAYpcqUa4Ss85WiNp4c9ySem4DNipxQzUqw5J</small><br />
    
  </div>
</footer>
</body>
</html>

/* snapshot: TestRenderHandler render case 1: GET /render/me/movies?viz=true */
HTTP/1.1 200 OK
Connection: close
Content-Type: text/html; charset=utf-8

<!DOCTYPE html>
<html>
<head>
  <title>example movie data</title>
  <style type="text/css">
  html, body, .viewport { height: 100%; width: 100%; margin: 0; font-family: "avenir next", "avenir", sans-serif; font-size: 16px; }
  body { display: flex; flex-direction: column; }
  header { width: 100%; background: #0061A6; color: white; padding: 80px 0 40px 0; }
  section { min-height: 450px; }
  footer { width: 100%; background: #EBEBEB; padding: 40px 0 20px 0; margin-top: 40px; }
  header, section, footer { width: 100%; flex: 1; }
  label { display: block; font-weight: normal; color: #999; text-transform: uppercase; font-size: 14px; }
  .content { margin: 0 auto; max-width: 600px; }
  .stat { font-weight: bold; }
  .ref { margin-top: 5px; }}
  .path { color: #bebebe; }
</style>
</head>
<body class="viewport">
  <header>
  <div class="content">
    <label style="color: white">Dataset</label>
    <h4 class="ref">peer/movies</h4>
    <h1>example movie data</h1>
  </div>
</header>
  <section class="content">
  <p></p>
  
  
  <p class="stat"><label>data format:</label>csv</p>
  <p class="stat"><label>entry count:</label>2335</p>
  <p class="stat"><label>errors:</label>4</p>
  
</section>
  <footer>
  <div class="content">
    <p class="stat"><label>commit title:</label>initial commit</p>
    <small>2001-01-01T01:01:01.000000001Z</small><br />
    <small class="path">/map/QmVnSLjFfZ8QRyTvAMfqjWoTZS1zo4JthKjBaFjnneirAc</small><br />
    
  </div>
</footer>
</body>
</html>

/* snapshot: TestSQLHandler sql case 0: GET /sql?query=select%20*%20from%20me/movies%20m%20order%20by%20m.title%20limit%201 */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [
    {
      "m.duration": 22,
      "m.title": "10,000 B.C.             "
    }
  ],
  "meta": {
    "code": 200
  }
}

/* snapshot: TestSQLHandler sql case 0: OPTIONS /sql */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestSQLHandler sql case 0: POST /sql */
HTTP/1.1 422 Unprocessable Entity
Connection: close

{
  "meta": {
    "code": 422,
    "error": "empty statement"
  }
}

/* snapshot: TestSQLHandler sql case 1: GET /sql?query=select%20*%20from%20me/movies%20m%20order%20by%20m.title%20limit%201 */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [
    {
      "m.duration": 22,
      "m.title": "10,000 B.C.             "
    }
  ],
  "meta": {
    "code": 200
  }
}

/* snapshot: TestSQLHandler sql case 1: POST /sql */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [
    {
      "m.duration": 22,
      "m.title": "10,000 B.C.             "
    }
  ],
  "meta": {
    "code": 200
  }
}

/* snapshot: TestSearchHandlers profile case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestSearchHandlers profile case 1: GET / */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [],
  "meta": {
    "code": 200
  }
}

/* snapshot: TestSearchHandlers profile case 2: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestSearchHandlers search case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestSearchHandlers search case 1: GET / */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [],
  "meta": {
    "code": 200
  }
}

/* snapshot: TestSearchHandlers search case 2: DELETE / */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestServerRoutes health check case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

{ "meta": { "code": 200, "status": "ok", "versionzz":"test_version" }, "data": [] }

/* snapshot: TestServerRoutes health check case 1: GET / */
HTTP/1.1 200 OK
Connection: close

{ "meta": { "code": 200, "status": "ok", "versionzz":"test_version" }, "data": [] }

/* snapshot: TestServerRoutes root case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

{ "meta": { "code": 200, "status": "ok", "versionzz":"test_version" }, "data": [] }

/* snapshot: TestServerRoutes root case 1: GET / */
HTTP/1.1 200 OK
Connection: close

{ "meta": { "code": 200, "status": "ok", "versionzz":"test_version" }, "data": [] }

/* snapshot: TestUpdateHandlers list case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestUpdateHandlers list case 1: GET / */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": [],
  "meta": {
    "code": 200
  },
  "pagination": {
    "nextUrl": "/?page=2"
  }
}

/* snapshot: TestUpdateHandlers run update case 0: OPTIONS /update/run */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestUpdateHandlers run update case 1: GET /update/run */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestUpdateHandlers run update case 2: POST /update/run/me/cities */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "parsing secrets: invalid character 'b' looking for beginning of value"
  }
}

/* snapshot: TestUpdateHandlers run update case 3: POST /update/run/me/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestUpdateHandlers update log case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close

/* snapshot: TestUpdateHandlers update run case 0: OPTIONS /update/run */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestUpdateHandlers update run case 1: GET /update/run */
HTTP/1.1 404 Not Found
Connection: close

{ "meta": { "code": 404, "status": "not found" }, "data": null }

/* snapshot: TestUpdateHandlers update run case 2: POST /update/run/me/cities */
HTTP/1.1 400 Bad Request
Connection: close

{
  "meta": {
    "code": 400,
    "error": "parsing secrets: invalid character 'b' looking for beginning of value"
  }
}

/* snapshot: TestUpdateHandlers update run case 3: POST /update/run/me/cities */
HTTP/1.1 200 OK
Connection: close
Content-Type: application/json

{
  "data": {
    "published": false
  },
  "meta": {
    "code": 200
  }
}

/* snapshot: TestUpdateHandlers update service case 0: OPTIONS / */
HTTP/1.1 200 OK
Connection: close